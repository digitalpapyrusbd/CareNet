// Swimlane definitions
export const swimlanes = [
  {
    id: 'admin',
    label: 'CareNet Platform Admin',
    color: '#E8DAEF',
    emoji: 'üîê',
  },
  {
    id: 'moderator',
    label: 'CareNet Platform Moderator',
    color: '#F5EEF8',
    emoji: 'üëÆ',
  },
  {
    id: 'agency-admin',
    label: 'Agency Admin',
    color: '#D4E6F1',
    emoji: 'üè¢',
  },
  {
    id: 'agency-manager',
    label: 'Agency Manager',
    color: '#EBF5FB',
    emoji: 'üëî',
  },
  {
    id: 'caregiver',
    label: 'Caregiver',
    color: '#D5F5E3',
    emoji: 'üë®‚Äç‚öïÔ∏è',
  },
  {
    id: 'guardian',
    label: 'User/Guardian of Patient',
    color: '#FDEBD0',
    emoji: 'üë§',
  },
  {
    id: 'patient',
    label: 'Patient',
    color: '#FEF9E7',
    emoji: 'ü§í',
  },
  {
    id: 'shop-admin',
    label: 'Shops Admin',
    color: '#D1F2EB',
    emoji: 'üè™',
  },
  {
    id: 'shop-manager',
    label: 'Shops Manager',
    color: '#E8F8F5',
    emoji: 'üì¶',
  },
];

// Workflow definitions
export const workflows: Record<string, any> = {
  admin: {
    title: 'Platform Admin Workflow',
    description: 'Manage platform operations, moderators, and system settings',
    emoji: 'üîê',
    swimlanes: ['admin'],
    steps: [
      {
        id: 'admin-start',
        label: 'START',
        type: 'start',
        swimlaneId: 'admin',
        position: { x: 50, y: 80 },
        connections: [{ to: 'admin-login', type: 'normal' }],
      },
      {
        id: 'admin-login',
        label: 'Login with MFA',
        type: 'action',
        description: 'Secure authentication with multi-factor authentication',
        swimlaneId: 'admin',
        position: { x: 250, y: 70 },
        connections: [{ to: 'admin-mfa-check', type: 'normal' }],
      },
      {
        id: 'admin-mfa-check',
        label: 'MFA Valid?',
        type: 'decision',
        swimlaneId: 'admin',
        position: { x: 480, y: 60 },
        connections: [
          { to: 'admin-log-success', label: 'Yes', type: 'normal' },
          { to: 'admin-log-failed', label: 'No', type: 'conditional' },
        ],
      },
      {
        id: 'admin-log-success',
        label: 'üìã auth_success',
        type: 'log',
        description: 'LOG: Successful admin authentication',
        swimlaneId: 'admin',
        position: { x: 600, y: 30 },
        connections: [{ to: 'admin-dashboard', type: 'logging' }],
      },
      {
        id: 'admin-log-failed',
        label: 'üìã auth_failed',
        type: 'log',
        description: 'LOG: Failed authentication attempt',
        swimlaneId: 'admin',
        position: { x: 600, y: 120 },
        connections: [{ to: 'admin-error', type: 'logging' }],
      },
      {
        id: 'admin-error',
        label: 'Show Error',
        type: 'error',
        swimlaneId: 'admin',
        position: { x: 480, y: 180 },
        connections: [{ to: 'admin-login', type: 'error' }],
      },
      {
        id: 'admin-dashboard',
        label: 'Admin Dashboard',
        type: 'process',
        description: 'Central hub for all admin operations',
        swimlaneId: 'admin',
        position: { x: 700, y: 70 },
        connections: [
          { to: 'admin-agency-pkg', type: 'normal' },
          { to: 'admin-caregiver-pkg', type: 'normal' },
          { to: 'admin-agency-sub', type: 'normal' },
          { to: 'admin-caregiver-sub', type: 'normal' },
          { to: 'admin-moderators', type: 'normal' },
          { to: 'admin-mod-approvals', type: 'normal' },
          { to: 'admin-verification', type: 'normal' },
          { to: 'admin-agency-legal', type: 'normal' },
          { to: 'admin-agency-physical', type: 'normal' },
          { to: 'admin-cg-certificates', type: 'normal' },
          { to: 'admin-cg-police', type: 'normal' },
          { to: 'admin-cg-interview', type: 'normal' },
          { to: 'admin-cg-psycho', type: 'normal' },
          { to: 'admin-disputes', type: 'normal' },
          { to: 'admin-cv-pool', type: 'normal' },
          { to: 'admin-tickets', type: 'normal' },
          { to: 'admin-messages', type: 'normal' },
          { to: 'admin-analytics', type: 'normal' },
          { to: 'admin-billing', type: 'normal' },
          { to: 'admin-locked-accounts', type: 'normal' },
          { to: 'admin-settings', type: 'normal' },
        ],
      },
      // Agency Package Template Branch
      {
        id: 'admin-agency-pkg',
        label: 'Agency Package Template',
        type: 'action',
        description: 'Create package templates for agencies',
        swimlaneId: 'admin',
        position: { x: 950, y: 0 },
        connections: [{ to: 'admin-agency-pkg-editor', type: 'normal' }],
      },
      {
        id: 'admin-agency-pkg-editor',
        label: 'Package Template Editor',
        type: 'action',
        description: 'Design agency package template',
        swimlaneId: 'admin',
        position: { x: 1180, y: 0 },
        connections: [{ to: 'admin-agency-pkg-save', type: 'normal' }],
      },
      {
        id: 'admin-agency-pkg-save',
        label: 'Save as Template',
        type: 'process',
        description: 'Available to Agencies',
        swimlaneId: 'admin',
        position: { x: 1410, y: 0 },
      },
      // Caregiver Package Template Branch
      {
        id: 'admin-caregiver-pkg',
        label: 'Caregiver Package Template',
        type: 'action',
        description: 'Create package templates for caregivers',
        swimlaneId: 'admin',
        position: { x: 950, y: 60 },
        connections: [{ to: 'admin-caregiver-pkg-editor', type: 'normal' }],
      },
      {
        id: 'admin-caregiver-pkg-editor',
        label: 'Package Template Editor',
        type: 'action',
        description: 'Design caregiver package template',
        swimlaneId: 'admin',
        position: { x: 1180, y: 60 },
        connections: [{ to: 'admin-caregiver-pkg-save', type: 'normal' }],
      },
      {
        id: 'admin-caregiver-pkg-save',
        label: 'Save as Template',
        type: 'process',
        description: 'Available to Caregivers',
        swimlaneId: 'admin',
        position: { x: 1410, y: 60 },
      },
      // Agency Subscription Package Branch
      {
        id: 'admin-agency-sub',
        label: 'Agency Subscription Package',
        type: 'action',
        description: 'Create subscription packages for agencies (Basic/Premium/Enterprise)',
        swimlaneId: 'admin',
        position: { x: 950, y: 120 },
        connections: [{ to: 'admin-agency-sub-editor', type: 'normal' }],
      },
      {
        id: 'admin-agency-sub-editor',
        label: 'Create Subscription Package',
        type: 'action',
        description: 'Define pricing, duration, features (monthly/yearly plans)',
        swimlaneId: 'admin',
        position: { x: 1180, y: 120 },
        connections: [{ to: 'admin-agency-sub-save', type: 'normal' }],
      },
      {
        id: 'admin-agency-sub-save',
        label: 'Publish Subscription Package',
        type: 'process',
        description: 'Available for Agencies to purchase',
        swimlaneId: 'admin',
        position: { x: 1410, y: 120 },
      },
      // Caregiver Subscription Package Branch
      {
        id: 'admin-caregiver-sub',
        label: 'Caregiver Subscription Package',
        type: 'action',
        description: 'Create subscription packages for caregivers (Basic/Premium/Pro)',
        swimlaneId: 'admin',
        position: { x: 950, y: 180 },
        connections: [{ to: 'admin-caregiver-sub-editor', type: 'normal' }],
      },
      {
        id: 'admin-caregiver-sub-editor',
        label: 'Create Subscription Package',
        type: 'action',
        description: 'Define pricing, duration, features (monthly/yearly plans)',
        swimlaneId: 'admin',
        position: { x: 1180, y: 180 },
        connections: [{ to: 'admin-caregiver-sub-save', type: 'normal' }],
      },
      {
        id: 'admin-caregiver-sub-save',
        label: 'Publish Subscription Package',
        type: 'process',
        description: 'Available for Caregivers to purchase',
        swimlaneId: 'admin',
        position: { x: 1410, y: 180 },
      },
      // Moderator Management Branch
      {
        id: 'admin-moderators',
        label: 'Moderator Management',
        type: 'action',
        description: 'Add, edit, remove moderators and assign permissions',
        swimlaneId: 'admin',
        position: { x: 950, y: 240 },
        connections: [
          { to: 'admin-add-mod', type: 'normal' },
          { to: 'admin-edit-mod', type: 'normal' },
        ],
      },
      {
        id: 'admin-add-mod',
        label: 'Add Moderator',
        type: 'process',
        swimlaneId: 'admin',
        position: { x: 1180, y: 220 },
      },
      {
        id: 'admin-edit-mod',
        label: 'Edit/Remove Moderator',
        type: 'process',
        swimlaneId: 'admin',
        position: { x: 1180, y: 270 },
      },
      // Moderator Approvals Branch
      {
        id: 'admin-mod-approvals',
        label: 'Moderator Approvals Queue',
        type: 'action',
        description: 'Review all moderator submissions for final approval',
        swimlaneId: 'admin',
        position: { x: 950, y: 330 },
        connections: [
          { to: 'admin-mod-legal-review', type: 'normal' },
          { to: 'admin-mod-physical-review', type: 'normal' },
          { to: 'admin-mod-cert-review', type: 'normal' },
          { to: 'admin-mod-police-review', type: 'normal' },
          { to: 'admin-mod-interview-review', type: 'normal' },
          { to: 'admin-mod-psycho-review', type: 'normal' },
        ],
      },
      // Agency Legal Mod Approval
      {
        id: 'admin-mod-legal-review',
        label: 'Review Legal Doc Submission',
        type: 'process',
        description: 'Review moderator legal document verification',
        swimlaneId: 'admin',
        position: { x: 1200, y: 330 },
        connections: [{ to: 'admin-mod-legal-decision', type: 'normal' }],
      },
      {
        id: 'admin-mod-legal-decision',
        label: 'Decision',
        type: 'decision',
        swimlaneId: 'admin',
        position: { x: 1450, y: 320 },
        connections: [
          { to: 'admin-mod-legal-approve', label: 'Approve', type: 'normal' },
          { to: 'admin-mod-legal-resubmit', label: 'Resubmit', type: 'conditional' },
          { to: 'admin-mod-legal-reject', label: 'Reject', type: 'conditional' },
        ],
      },
      {
        id: 'admin-mod-legal-approve',
        label: 'Final Approval',
        type: 'process',
        description: 'Accept moderator recommendation',
        swimlaneId: 'admin',
        position: { x: 1700, y: 290 },
      },
      {
        id: 'admin-mod-legal-resubmit',
        label: 'Send Back to Moderator',
        type: 'process',
        description: 'Request moderator to review again',
        swimlaneId: 'admin',
        position: { x: 1700, y: 330 },
      },
      {
        id: 'admin-mod-legal-reject',
        label: 'Final Rejection',
        type: 'process',
        description: 'Override and reject',
        swimlaneId: 'admin',
        position: { x: 1700, y: 370 },
      },
      // Agency Physical Mod Approval
      {
        id: 'admin-mod-physical-review',
        label: 'Review Physical Verification',
        type: 'process',
        description: 'Review moderator physical verification',
        swimlaneId: 'admin',
        position: { x: 1200, y: 410 },
        connections: [{ to: 'admin-mod-physical-decision', type: 'normal' }],
      },
      {
        id: 'admin-mod-physical-decision',
        label: 'Decision',
        type: 'decision',
        swimlaneId: 'admin',
        position: { x: 1450, y: 400 },
        connections: [
          { to: 'admin-mod-physical-approve', label: 'Approve', type: 'normal' },
          { to: 'admin-mod-physical-resubmit', label: 'Resubmit', type: 'conditional' },
          { to: 'admin-mod-physical-reject', label: 'Reject', type: 'conditional' },
        ],
      },
      {
        id: 'admin-mod-physical-approve',
        label: 'Final Approval',
        type: 'process',
        swimlaneId: 'admin',
        position: { x: 1700, y: 370 },
      },
      {
        id: 'admin-mod-physical-resubmit',
        label: 'Send Back to Moderator',
        type: 'process',
        swimlaneId: 'admin',
        position: { x: 1700, y: 410 },
      },
      {
        id: 'admin-mod-physical-reject',
        label: 'Final Rejection',
        type: 'process',
        swimlaneId: 'admin',
        position: { x: 1700, y: 450 },
      },
      // Caregiver Certificate Mod Approval
      {
        id: 'admin-mod-cert-review',
        label: 'Review Certificate Submission',
        type: 'process',
        description: 'Review moderator certificate verification',
        swimlaneId: 'admin',
        position: { x: 1200, y: 490 },
        connections: [{ to: 'admin-mod-cert-decision', type: 'normal' }],
      },
      {
        id: 'admin-mod-cert-decision',
        label: 'Decision',
        type: 'decision',
        swimlaneId: 'admin',
        position: { x: 1450, y: 480 },
        connections: [
          { to: 'admin-mod-cert-approve', label: 'Approve', type: 'normal' },
          { to: 'admin-mod-cert-resubmit', label: 'Resubmit', type: 'conditional' },
          { to: 'admin-mod-cert-reject', label: 'Reject', type: 'conditional' },
        ],
      },
      {
        id: 'admin-mod-cert-approve',
        label: 'Final Approval',
        type: 'process',
        swimlaneId: 'admin',
        position: { x: 1700, y: 450 },
      },
      {
        id: 'admin-mod-cert-resubmit',
        label: 'Send Back to Moderator',
        type: 'process',
        swimlaneId: 'admin',
        position: { x: 1700, y: 490 },
      },
      {
        id: 'admin-mod-cert-reject',
        label: 'Final Rejection',
        type: 'process',
        swimlaneId: 'admin',
        position: { x: 1700, y: 530 },
      },
      // Caregiver Police Clearance Mod Approval
      {
        id: 'admin-mod-police-review',
        label: 'Review Police Clearance',
        type: 'process',
        description: 'Review moderator police clearance verification',
        swimlaneId: 'admin',
        position: { x: 1200, y: 570 },
        connections: [{ to: 'admin-mod-police-decision', type: 'normal' }],
      },
      {
        id: 'admin-mod-police-decision',
        label: 'Decision',
        type: 'decision',
        swimlaneId: 'admin',
        position: { x: 1450, y: 560 },
        connections: [
          { to: 'admin-mod-police-approve', label: 'Approve', type: 'normal' },
          { to: 'admin-mod-police-resubmit', label: 'Resubmit', type: 'conditional' },
          { to: 'admin-mod-police-reject', label: 'Reject', type: 'conditional' },
        ],
      },
      {
        id: 'admin-mod-police-approve',
        label: 'Final Approval',
        type: 'process',
        swimlaneId: 'admin',
        position: { x: 1700, y: 530 },
      },
      {
        id: 'admin-mod-police-resubmit',
        label: 'Send Back to Moderator',
        type: 'process',
        swimlaneId: 'admin',
        position: { x: 1700, y: 570 },
      },
      {
        id: 'admin-mod-police-reject',
        label: 'Final Rejection',
        type: 'process',
        swimlaneId: 'admin',
        position: { x: 1700, y: 610 },
      },
      // Caregiver Interview Mod Approval
      {
        id: 'admin-mod-interview-review',
        label: 'Review Interview Marks',
        type: 'process',
        description: 'Review moderator interview assessment',
        swimlaneId: 'admin',
        position: { x: 1200, y: 650 },
        connections: [{ to: 'admin-mod-interview-decision', type: 'normal' }],
      },
      {
        id: 'admin-mod-interview-decision',
        label: 'Decision',
        type: 'decision',
        swimlaneId: 'admin',
        position: { x: 1450, y: 640 },
        connections: [
          { to: 'admin-mod-interview-approve', label: 'Approve', type: 'normal' },
          { to: 'admin-mod-interview-resubmit', label: 'Resubmit', type: 'conditional' },
          { to: 'admin-mod-interview-reject', label: 'Reject', type: 'conditional' },
        ],
      },
      {
        id: 'admin-mod-interview-approve',
        label: 'Final Approval',
        type: 'process',
        swimlaneId: 'admin',
        position: { x: 1700, y: 610 },
      },
      {
        id: 'admin-mod-interview-resubmit',
        label: 'Send Back to Moderator',
        type: 'process',
        swimlaneId: 'admin',
        position: { x: 1700, y: 650 },
      },
      {
        id: 'admin-mod-interview-reject',
        label: 'Final Rejection',
        type: 'process',
        swimlaneId: 'admin',
        position: { x: 1700, y: 690 },
      },
      // Caregiver Psycho Analysis Mod Approval
      {
        id: 'admin-mod-psycho-review',
        label: 'Review Psycho Assessment',
        type: 'process',
        description: 'Review moderator psychological assessment',
        swimlaneId: 'admin',
        position: { x: 1200, y: 730 },
        connections: [{ to: 'admin-mod-psycho-decision', type: 'normal' }],
      },
      {
        id: 'admin-mod-psycho-decision',
        label: 'Decision',
        type: 'decision',
        swimlaneId: 'admin',
        position: { x: 1450, y: 720 },
        connections: [
          { to: 'admin-mod-psycho-approve', label: 'Approve', type: 'normal' },
          { to: 'admin-mod-psycho-resubmit', label: 'Resubmit', type: 'conditional' },
          { to: 'admin-mod-psycho-reject', label: 'Reject', type: 'conditional' },
        ],
      },
      {
        id: 'admin-mod-psycho-approve',
        label: 'Final Approval',
        type: 'process',
        swimlaneId: 'admin',
        position: { x: 1700, y: 690 },
      },
      {
        id: 'admin-mod-psycho-resubmit',
        label: 'Send Back to Moderator',
        type: 'process',
        swimlaneId: 'admin',
        position: { x: 1700, y: 730 },
      },
      {
        id: 'admin-mod-psycho-reject',
        label: 'Final Rejection',
        type: 'process',
        swimlaneId: 'admin',
        position: { x: 1700, y: 770 },
      },
      // Review Moderator Tickets Branch
      {
        id: 'admin-tickets',
        label: 'Ticket Approvals',
        type: 'action',
        description: 'Review moderator ticket resolutions and escalations',
        swimlaneId: 'admin',
        position: { x: 950, y: 800 },
        connections: [
          { to: 'admin-ticket-mod-review', type: 'normal' },
          { to: 'admin-ticket-escalated', type: 'normal' },
        ],
      },
      {
        id: 'admin-ticket-mod-review',
        label: 'Review Mod Resolution',
        type: 'process',
        description: 'Review moderator ticket resolution',
        swimlaneId: 'admin',
        position: { x: 1200, y: 780 },
        connections: [{ to: 'admin-ticket-mod-decision', type: 'normal' }],
      },
      {
        id: 'admin-ticket-mod-decision',
        label: 'Decision',
        type: 'decision',
        swimlaneId: 'admin',
        position: { x: 1450, y: 770 },
        connections: [
          { to: 'admin-ticket-approve', label: 'Approve', type: 'normal' },
          { to: 'admin-ticket-resubmit', label: 'Resubmit', type: 'conditional' },
          { to: 'admin-ticket-override', label: 'Override', type: 'conditional' },
        ],
      },
      {
        id: 'admin-ticket-approve',
        label: 'Approve Resolution',
        type: 'process',
        swimlaneId: 'admin',
        position: { x: 1700, y: 740 },
      },
      {
        id: 'admin-ticket-resubmit',
        label: 'Send Back',
        type: 'process',
        swimlaneId: 'admin',
        position: { x: 1700, y: 780 },
      },
      {
        id: 'admin-ticket-override',
        label: 'Override Decision',
        type: 'process',
        swimlaneId: 'admin',
        position: { x: 1700, y: 820 },
      },
      {
        id: 'admin-ticket-escalated',
        label: 'Handle Escalated Tickets',
        type: 'process',
        description: 'Resolve complex tickets from moderators',
        swimlaneId: 'admin',
        position: { x: 1200, y: 840 },
        connections: [{ to: 'admin-ticket-final', type: 'normal' }],
      },
      {
        id: 'admin-ticket-final',
        label: 'Final Resolution',
        type: 'process',
        description: 'Admin makes final decision on escalated ticket',
        swimlaneId: 'admin',
        position: { x: 1450, y: 840 },
      },
      // Platform Analytics Branch
      {
        id: 'admin-analytics',
        label: 'Platform Analytics',
        type: 'action',
        description: 'View metrics dashboard with key performance indicators',
        swimlaneId: 'admin',
        position: { x: 950, y: 420 },
        connections: [{ to: 'admin-metrics', type: 'normal' }],
      },
      {
        id: 'admin-metrics',
        label: 'View Metrics Dashboard',
        type: 'action',
        swimlaneId: 'admin',
        position: { x: 1180, y: 420 },
        connections: [
          { to: 'admin-metric-growth', type: 'data' },
          { to: 'admin-metric-volume', type: 'data' },
          { to: 'admin-metric-dispute', type: 'data' },
          { to: 'admin-metric-revenue', type: 'data' },
        ],
      },
      {
        id: 'admin-metric-growth',
        label: 'User Growth',
        type: 'data',
        swimlaneId: 'admin',
        position: { x: 1410, y: 400 },
      },
      {
        id: 'admin-metric-volume',
        label: 'Transaction Volume',
        type: 'data',
        swimlaneId: 'admin',
        position: { x: 1520, y: 400 },
      },
      {
        id: 'admin-metric-dispute',
        label: 'Dispute Rate',
        type: 'data',
        swimlaneId: 'admin',
        position: { x: 1410, y: 460 },
      },
      {
        id: 'admin-metric-revenue',
        label: 'Revenue Reports',
        type: 'data',
        swimlaneId: 'admin',
        position: { x: 1520, y: 460 },
      },
      // Billing Branch
      {
        id: 'admin-billing',
        label: 'Billing',
        type: 'action',
        description: 'Manage and view billing information',
        swimlaneId: 'admin',
        position: { x: 950, y: 540 },
        connections: [{ to: 'admin-invoices', type: 'normal' }],
      },
      {
        id: 'admin-invoices',
        label: 'View Invoices',
        type: 'action',
        swimlaneId: 'admin',
        position: { x: 1180, y: 540 },
        connections: [
          { to: 'admin-invoice-details', type: 'data' },
          { to: 'admin-invoice-payment', type: 'data' },
        ],
      },
      {
        id: 'admin-invoice-details',
        label: 'Invoice Details',
        type: 'data',
        swimlaneId: 'admin',
        position: { x: 1410, y: 520 },
      },
      {
        id: 'admin-invoice-payment',
        label: 'Payment Status',
        type: 'data',
        swimlaneId: 'admin',
        position: { x: 1520, y: 520 },
      },
      // Locked Accounts Management Branch
      {
        id: 'admin-locked-accounts',
        label: 'Locked Accounts Management',
        type: 'action',
        description: 'View and manage payment-locked accounts',
        swimlaneId: 'admin',
        position: { x: 950, y: 600 },
        connections: [{ to: 'admin-locked-dashboard', type: 'normal' }],
      },
      {
        id: 'admin-locked-dashboard',
        label: 'Locked Accounts Dashboard',
        type: 'process',
        description: 'Overview of all locked accounts by entity type',
        swimlaneId: 'admin',
        position: { x: 1180, y: 600 },
        connections: [
          { to: 'admin-locked-metrics', type: 'data' },
          { to: 'admin-locked-list', type: 'normal' },
        ],
      },
      {
        id: 'admin-locked-metrics',
        label: 'Lockout Metrics',
        type: 'data',
        description: 'Total locked: 47\nOutstanding debt: $23,450\nRecovery rate: 87%',
        swimlaneId: 'admin',
        position: { x: 1410, y: 580 },
      },
      {
        id: 'admin-locked-list',
        label: 'View Locked Entities',
        type: 'process',
        description: 'List by Agency, Guardian, Caregiver, Shop',
        swimlaneId: 'admin',
        position: { x: 1410, y: 620 },
        connections: [{ to: 'admin-locked-actions', type: 'normal' }],
      },
      {
        id: 'admin-locked-actions',
        label: 'Admin Actions',
        type: 'decision',
        description: 'Choose action for locked account',
        swimlaneId: 'admin',
        position: { x: 1640, y: 600 },
        connections: [
          { to: 'admin-grant-grace', label: 'Grant Grace Period', type: 'normal' },
          { to: 'admin-manual-unlock', label: 'Manual Unlock', type: 'normal' },
          { to: 'admin-contact-entity', label: 'Contact Entity', type: 'normal' },
        ],
      },
      {
        id: 'admin-grant-grace',
        label: 'Grant Grace Period',
        type: 'process',
        description: 'Extend payment deadline (case-by-case)',
        swimlaneId: 'admin',
        position: { x: 1870, y: 560 },
      },
      {
        id: 'admin-manual-unlock',
        label: 'Manual Unlock Account',
        type: 'process',
        description: 'Emergency unlock for exceptional cases',
        swimlaneId: 'admin',
        position: { x: 1870, y: 610 },
      },
      {
        id: 'admin-contact-entity',
        label: 'Send Message',
        type: 'action',
        description: 'Contact locked entity directly',
        swimlaneId: 'admin',
        position: { x: 1870, y: 660 },
      },
      // Messages/Communication Branch
      {
        id: 'admin-messages',
        label: 'Platform Communications',
        type: 'action',
        description: 'Communicate with all platform entities',
        swimlaneId: 'admin',
        position: { x: 950, y: 550 },
        connections: [{ to: 'admin-msg-inbox', type: 'normal' }],
      },
      {
        id: 'admin-msg-inbox',
        label: 'Message Center',
        type: 'process',
        description: 'View all conversations and broadcasts',
        swimlaneId: 'admin',
        position: { x: 1200, y: 550 },
        connections: [
          { to: 'admin-msg-moderators', type: 'normal' },
          { to: 'admin-msg-agencies', type: 'normal' },
          { to: 'admin-msg-caregivers', type: 'normal' },
          { to: 'admin-msg-broadcast', type: 'normal' },
        ],
      },
      {
        id: 'admin-msg-moderators',
        label: 'Chat with Moderators',
        type: 'action',
        description: 'Direct messaging with moderators',
        swimlaneId: 'admin',
        position: { x: 1450, y: 510 },
      },
      {
        id: 'admin-msg-agencies',
        label: 'Chat with Agencies',
        type: 'action',
        description: 'Communicate with agencies',
        swimlaneId: 'admin',
        position: { x: 1450, y: 550 },
      },
      {
        id: 'admin-msg-caregivers',
        label: 'Chat with Caregivers',
        type: 'action',
        description: 'Communicate with caregivers',
        swimlaneId: 'admin',
        position: { x: 1450, y: 590 },
      },
      {
        id: 'admin-msg-broadcast',
        label: 'Broadcast Announcements',
        type: 'action',
        description: 'Send platform-wide messages',
        swimlaneId: 'admin',
        position: { x: 1450, y: 630 },
      },
      // System Settings Branch
      {
        id: 'admin-settings',
        label: 'System Settings',
        type: 'action',
        swimlaneId: 'admin',
        position: { x: 950, y: 680 },
        connections: [
          { to: 'admin-settings-flags', type: 'normal' },
          { to: 'admin-settings-policies', type: 'normal' },
        ],
      },
      {
        id: 'admin-settings-flags',
        label: 'Manage Feature Flags',
        type: 'process',
        swimlaneId: 'admin',
        position: { x: 1180, y: 580 },
      },
      {
        id: 'admin-settings-policies',
        label: 'Update Platform Policies',
        type: 'process',
        swimlaneId: 'admin',
        position: { x: 1180, y: 640 },
      },
      // Verification Queue Branch
      {
        id: 'admin-verification',
        label: 'Verification Queue',
        type: 'action',
        description: 'Review and approve company and caregiver applications',
        swimlaneId: 'admin',
        position: { x: 950, y: 660 },
        connections: [{ to: 'admin-verify-check', type: 'normal' }],
      },
      {
        id: 'admin-verify-check',
        label: 'Valid?',
        type: 'decision',
        swimlaneId: 'admin',
        position: { x: 1200, y: 650 },
        connections: [
          { to: 'admin-approve', label: 'Yes', type: 'normal' },
          { to: 'admin-reject', label: 'No', type: 'conditional' },
        ],
      },
      {
        id: 'admin-approve',
        label: 'Approve',
        type: 'process',
        swimlaneId: 'admin',
        position: { x: 1400, y: 640 },
      },
      {
        id: 'admin-reject',
        label: 'Reject with Reason',
        type: 'process',
        swimlaneId: 'admin',
        position: { x: 1400, y: 680 },
      },
      // Dispute Center Branch
      {
        id: 'admin-disputes',
        label: 'Dispute Center',
        type: 'action',
        description: 'Review moderator dispute resolutions and escalations',
        swimlaneId: 'admin',
        position: { x: 950, y: 720 },
        connections: [
          { to: 'admin-dispute-mod-review', type: 'normal' },
          { to: 'admin-dispute-escalated', type: 'normal' },
        ],
      },
      {
        id: 'admin-dispute-mod-review',
        label: 'Review Mod Resolution',
        type: 'process',
        description: 'Review moderator dispute resolution',
        swimlaneId: 'admin',
        position: { x: 1200, y: 700 },
        connections: [{ to: 'admin-dispute-mod-decision', type: 'normal' }],
      },
      {
        id: 'admin-dispute-mod-decision',
        label: 'Decision',
        type: 'decision',
        swimlaneId: 'admin',
        position: { x: 1450, y: 690 },
        connections: [
          { to: 'admin-dispute-approve', label: 'Approve', type: 'normal' },
          { to: 'admin-dispute-resubmit', label: 'Resubmit', type: 'conditional' },
          { to: 'admin-dispute-override', label: 'Override', type: 'conditional' },
        ],
      },
      {
        id: 'admin-dispute-approve',
        label: 'Approve Resolution',
        type: 'process',
        swimlaneId: 'admin',
        position: { x: 1700, y: 660 },
      },
      {
        id: 'admin-dispute-resubmit',
        label: 'Send Back',
        type: 'process',
        swimlaneId: 'admin',
        position: { x: 1700, y: 700 },
      },
      {
        id: 'admin-dispute-override',
        label: 'Override Decision',
        type: 'process',
        swimlaneId: 'admin',
        position: { x: 1700, y: 740 },
      },
      {
        id: 'admin-dispute-escalated',
        label: 'Handle Escalated Disputes',
        type: 'process',
        description: 'Resolve complex disputes from moderators',
        swimlaneId: 'admin',
        position: { x: 1200, y: 760 },
        connections: [{ to: 'admin-dispute-final', type: 'normal' }],
      },
      {
        id: 'admin-dispute-final',
        label: 'Final Resolution',
        type: 'process',
        description: 'Admin makes final decision on escalated dispute',
        swimlaneId: 'admin',
        position: { x: 1450, y: 760 },
      },
      // Caregiver CV Pool Branch
      {
        id: 'admin-cv-pool',
        label: 'Caregiver CV Pool',
        type: 'action',
        description: 'Search and match caregivers with jobs',
        swimlaneId: 'admin',
        position: { x: 950, y: 780 },
      },
      // Agency Legal Documents Branch
      {
        id: 'admin-agency-legal',
        label: 'Agency Legal Documents',
        type: 'action',
        description: 'Verify agency legal and regulatory documents',
        swimlaneId: 'admin',
        position: { x: 950, y: 840 },
        connections: [{ to: 'admin-legal-queue', type: 'normal' }],
      },
      {
        id: 'admin-legal-queue',
        label: 'Legal Document Queue',
        type: 'action',
        description: 'View agencies pending legal document verification',
        swimlaneId: 'admin',
        position: { x: 1200, y: 840 },
        connections: [{ to: 'admin-legal-review', type: 'normal' }],
      },
      {
        id: 'admin-legal-review',
        label: 'Review Legal Documents',
        type: 'process',
        description: 'Verify trade license, TIN certificate, registration documents',
        swimlaneId: 'admin',
        position: { x: 1450, y: 840 },
        connections: [{ to: 'admin-legal-valid', type: 'normal' }],
      },
      {
        id: 'admin-legal-valid',
        label: 'Valid?',
        type: 'decision',
        swimlaneId: 'admin',
        position: { x: 1700, y: 830 },
        connections: [
          { to: 'admin-legal-approve', label: 'Yes', type: 'normal' },
          { to: 'admin-legal-reject', label: 'No', type: 'conditional' },
        ],
      },
      {
        id: 'admin-legal-approve',
        label: 'Approve Legal Documents',
        type: 'process',
        description: 'Mark legal documents as verified',
        swimlaneId: 'admin',
        position: { x: 1950, y: 810 },
      },
      {
        id: 'admin-legal-reject',
        label: 'Reject with Reason',
        type: 'process',
        description: 'Send rejection notification to agency',
        swimlaneId: 'admin',
        position: { x: 1950, y: 870 },
      },
      // Agency Physical Verification Branch
      {
        id: 'admin-agency-physical',
        label: 'Agency Physical Verification',
        type: 'action',
        description: 'Verify agency physical location and operations',
        swimlaneId: 'admin',
        position: { x: 950, y: 960 },
        connections: [{ to: 'admin-physical-queue', type: 'normal' }],
      },
      {
        id: 'admin-physical-queue',
        label: 'Physical Verification Queue',
        type: 'action',
        description: 'View agencies pending physical verification',
        swimlaneId: 'admin',
        position: { x: 1200, y: 960 },
        connections: [{ to: 'admin-physical-review', type: 'normal' }],
      },
      {
        id: 'admin-physical-review',
        label: 'Review Physical Evidence',
        type: 'process',
        description: 'Verify office photos, location proof, site visit reports',
        swimlaneId: 'admin',
        position: { x: 1450, y: 960 },
        connections: [{ to: 'admin-physical-valid', type: 'normal' }],
      },
      {
        id: 'admin-physical-valid',
        label: 'Valid?',
        type: 'decision',
        swimlaneId: 'admin',
        position: { x: 1700, y: 950 },
        connections: [
          { to: 'admin-physical-approve', label: 'Yes', type: 'normal' },
          { to: 'admin-physical-reject', label: 'No', type: 'conditional' },
        ],
      },
      {
        id: 'admin-physical-approve',
        label: 'Approve Physical Verification',
        type: 'process',
        description: 'Mark physical verification as complete',
        swimlaneId: 'admin',
        position: { x: 1950, y: 930 },
      },
      {
        id: 'admin-physical-reject',
        label: 'Reject with Reason',
        type: 'process',
        description: 'Send rejection notification to agency',
        swimlaneId: 'admin',
        position: { x: 1950, y: 990 },
      },
      // Caregiver Certificates Branch
      {
        id: 'admin-cg-certificates',
        label: 'Caregiver Certificates',
        type: 'action',
        description: 'Manage and verify caregiver certificates',
        swimlaneId: 'admin',
        position: { x: 950, y: 1080 },
        connections: [{ to: 'admin-cert-queue', type: 'normal' }],
      },
      {
        id: 'admin-cert-queue',
        label: 'Certificate Queue',
        type: 'action',
        description: 'View caregivers pending certificate verification',
        swimlaneId: 'admin',
        position: { x: 1200, y: 1080 },
        connections: [{ to: 'admin-cert-review', type: 'normal' }],
      },
      {
        id: 'admin-cert-review',
        label: 'Review Certificates',
        type: 'process',
        description: 'Verify nursing certificates, training, CPR, etc.',
        swimlaneId: 'admin',
        position: { x: 1450, y: 1080 },
        connections: [{ to: 'admin-cert-valid', type: 'normal' }],
      },
      {
        id: 'admin-cert-valid',
        label: 'Valid?',
        type: 'decision',
        swimlaneId: 'admin',
        position: { x: 1700, y: 1070 },
        connections: [
          { to: 'admin-cert-approve', label: 'Yes', type: 'normal' },
          { to: 'admin-cert-reject', label: 'No', type: 'conditional' },
        ],
      },
      {
        id: 'admin-cert-approve',
        label: 'Approve Certificate',
        type: 'process',
        description: 'Mark certificate as verified',
        swimlaneId: 'admin',
        position: { x: 1950, y: 1050 },
      },
      {
        id: 'admin-cert-reject',
        label: 'Reject with Reason',
        type: 'process',
        description: 'Send rejection notification to caregiver',
        swimlaneId: 'admin',
        position: { x: 1950, y: 1110 },
      },
      // Caregiver Police Clearance Branch
      {
        id: 'admin-cg-police',
        label: 'Caregiver Police Clearance',
        type: 'action',
        description: 'Manage and verify caregiver police clearance',
        swimlaneId: 'admin',
        position: { x: 950, y: 1200 },
        connections: [{ to: 'admin-police-queue', type: 'normal' }],
      },
      {
        id: 'admin-police-queue',
        label: 'Police Clearance Queue',
        type: 'action',
        description: 'View caregivers pending police verification',
        swimlaneId: 'admin',
        position: { x: 1200, y: 1200 },
        connections: [{ to: 'admin-police-review', type: 'normal' }],
      },
      {
        id: 'admin-police-review',
        label: 'Review Police Clearance',
        type: 'process',
        description: 'Verify police clearance certificate authenticity',
        swimlaneId: 'admin',
        position: { x: 1450, y: 1200 },
        connections: [{ to: 'admin-police-valid', type: 'normal' }],
      },
      {
        id: 'admin-police-valid',
        label: 'Valid?',
        type: 'decision',
        swimlaneId: 'admin',
        position: { x: 1700, y: 1190 },
        connections: [
          { to: 'admin-police-approve', label: 'Yes', type: 'normal' },
          { to: 'admin-police-reject', label: 'No', type: 'conditional' },
        ],
      },
      {
        id: 'admin-police-approve',
        label: 'Approve Police Clearance',
        type: 'process',
        description: 'Mark police clearance as verified',
        swimlaneId: 'admin',
        position: { x: 1950, y: 1170 },
      },
      {
        id: 'admin-police-reject',
        label: 'Reject with Reason',
        type: 'process',
        description: 'Send rejection notification to caregiver',
        swimlaneId: 'admin',
        position: { x: 1950, y: 1230 },
      },
      // Caregiver Interview Assessment Branch
      {
        id: 'admin-cg-interview',
        label: 'Caregiver Interview',
        type: 'action',
        description: 'Conduct and assess caregiver interviews',
        swimlaneId: 'admin',
        position: { x: 950, y: 1320 },
        connections: [{ to: 'admin-interview-queue', type: 'normal' }],
      },
      {
        id: 'admin-interview-queue',
        label: 'Interview Queue',
        type: 'action',
        description: 'View caregivers pending interview',
        swimlaneId: 'admin',
        position: { x: 1200, y: 1320 },
        connections: [{ to: 'admin-interview-conduct', type: 'normal' }],
      },
      {
        id: 'admin-interview-conduct',
        label: 'Conduct Interview',
        type: 'process',
        description: 'Assess communication, professionalism, experience, ethics',
        swimlaneId: 'admin',
        position: { x: 1450, y: 1320 },
        connections: [{ to: 'admin-interview-mark', type: 'normal' }],
      },
      {
        id: 'admin-interview-mark',
        label: 'Mark Interview',
        type: 'action',
        description: 'Score: Excellent/Good/Average/Poor',
        swimlaneId: 'admin',
        position: { x: 1700, y: 1320 },
        connections: [{ to: 'admin-interview-save', type: 'normal' }],
      },
      {
        id: 'admin-interview-save',
        label: 'Save Assessment',
        type: 'process',
        description: 'Record interview marks and notes',
        swimlaneId: 'admin',
        position: { x: 1950, y: 1320 },
      },
      // Caregiver Psychological Analysis Branch
      {
        id: 'admin-cg-psycho',
        label: 'Caregiver Psychological Analysis',
        type: 'action',
        description: 'Conduct and assess psychological evaluation',
        swimlaneId: 'admin',
        position: { x: 950, y: 1420 },
        connections: [{ to: 'admin-psycho-queue', type: 'normal' }],
      },
      {
        id: 'admin-psycho-queue',
        label: 'Psychological Assessment Queue',
        type: 'action',
        description: 'View caregivers pending psychological analysis',
        swimlaneId: 'admin',
        position: { x: 1200, y: 1420 },
        connections: [{ to: 'admin-psycho-conduct', type: 'normal' }],
      },
      {
        id: 'admin-psycho-conduct',
        label: 'Conduct Assessment',
        type: 'process',
        description: 'Evaluate emotional stability, stress tolerance, empathy',
        swimlaneId: 'admin',
        position: { x: 1450, y: 1420 },
        connections: [{ to: 'admin-psycho-mark', type: 'normal' }],
      },
      {
        id: 'admin-psycho-mark',
        label: 'Mark Analysis',
        type: 'action',
        description: 'Score: Fit/Acceptable/Needs Support/Unfit',
        swimlaneId: 'admin',
        position: { x: 1700, y: 1420 },
        connections: [{ to: 'admin-psycho-save', type: 'normal' }],
      },
      {
        id: 'admin-psycho-save',
        label: 'Save Assessment',
        type: 'process',
        description: 'Record psychological marks and recommendations',
        swimlaneId: 'admin',
        position: { x: 1950, y: 1420 },
      },
    ],
  },

  moderator: {
    title: 'Platform Moderator Workflow',
    description: 'Verify accounts, resolve disputes, and provide support',
    emoji: 'üëÆ',
    swimlanes: ['moderator'],
    steps: [
      {
        id: 'mod-start',
        label: 'START',
        type: 'start',
        swimlaneId: 'moderator',
        position: { x: 50, y: 80 },
        connections: [{ to: 'mod-login', type: 'normal' }],
      },
      {
        id: 'mod-login',
        label: 'Login with MFA',
        type: 'action',
        swimlaneId: 'moderator',
        position: { x: 250, y: 70 },
        connections: [{ to: 'mod-dashboard', type: 'normal' }],
      },
      {
        id: 'mod-dashboard',
        label: 'Moderator Dashboard',
        type: 'process',
        swimlaneId: 'moderator',
        position: { x: 500, y: 80 },
        connections: [
          { to: 'mod-agency-pkg', type: 'normal' },
          { to: 'mod-caregiver-pkg', type: 'normal' },
          { to: 'mod-agency-sub', type: 'normal' },
          { to: 'mod-caregiver-sub', type: 'normal' },
          { to: 'mod-verification', type: 'normal' },
          { to: 'mod-agency-legal', type: 'normal' },
          { to: 'mod-agency-physical', type: 'normal' },
          { to: 'mod-cg-certificates', type: 'normal' },
          { to: 'mod-cg-police', type: 'normal' },
          { to: 'mod-cg-interview', type: 'normal' },
          { to: 'mod-cg-psycho', type: 'normal' },
          { to: 'mod-disputes', type: 'normal' },
          { to: 'mod-cv-pool', type: 'normal' },
          { to: 'mod-tickets', type: 'normal' },
          { to: 'mod-messages', type: 'normal' },
          { to: 'mod-analytics', type: 'normal' },
          { to: 'mod-billing', type: 'normal' },
          { to: 'mod-settings', type: 'normal' },
        ],
      },
      // Agency Package Template Branch
      {
        id: 'mod-agency-pkg',
        label: 'Agency Package Template',
        type: 'action',
        description: 'Create package templates for agencies',
        swimlaneId: 'moderator',
        position: { x: 750, y: -160 },
        connections: [{ to: 'mod-agency-pkg-editor', type: 'normal' }],
      },
      {
        id: 'mod-agency-pkg-editor',
        label: 'Package Template Editor',
        type: 'action',
        description: 'Design agency package template',
        swimlaneId: 'moderator',
        position: { x: 980, y: -160 },
        connections: [{ to: 'mod-agency-pkg-save', type: 'normal' }],
      },
      {
        id: 'mod-agency-pkg-save',
        label: 'Save as Template',
        type: 'process',
        description: 'Available to Agencies',
        swimlaneId: 'moderator',
        position: { x: 1210, y: -160 },
      },
      // Caregiver Package Template Branch
      {
        id: 'mod-caregiver-pkg',
        label: 'Caregiver Package Template',
        type: 'action',
        description: 'Create package templates for caregivers',
        swimlaneId: 'moderator',
        position: { x: 750, y: -100 },
        connections: [{ to: 'mod-caregiver-pkg-editor', type: 'normal' }],
      },
      {
        id: 'mod-caregiver-pkg-editor',
        label: 'Package Template Editor',
        type: 'action',
        description: 'Design caregiver package template',
        swimlaneId: 'moderator',
        position: { x: 980, y: -100 },
        connections: [{ to: 'mod-caregiver-pkg-save', type: 'normal' }],
      },
      {
        id: 'mod-caregiver-pkg-save',
        label: 'Save as Template',
        type: 'process',
        description: 'Available to Caregivers',
        swimlaneId: 'moderator',
        position: { x: 1210, y: -100 },
      },
      // Agency Subscription Package Branch
      {
        id: 'mod-agency-sub',
        label: 'Agency Subscription Package',
        type: 'action',
        description: 'Create subscription packages for agencies (Basic/Premium/Enterprise)',
        swimlaneId: 'moderator',
        position: { x: 750, y: -40 },
        connections: [{ to: 'mod-agency-sub-editor', type: 'normal' }],
      },
      {
        id: 'mod-agency-sub-editor',
        label: 'Create Subscription Package',
        type: 'action',
        description: 'Define pricing, duration, features (monthly/yearly plans)',
        swimlaneId: 'moderator',
        position: { x: 980, y: -40 },
        connections: [{ to: 'mod-agency-sub-save', type: 'normal' }],
      },
      {
        id: 'mod-agency-sub-save',
        label: 'Publish Subscription Package',
        type: 'process',
        description: 'Available for Agencies to purchase',
        swimlaneId: 'moderator',
        position: { x: 1210, y: -40 },
      },
      // Caregiver Subscription Package Branch
      {
        id: 'mod-caregiver-sub',
        label: 'Caregiver Subscription Package',
        type: 'action',
        description: 'Create subscription packages for caregivers (Basic/Premium/Pro)',
        swimlaneId: 'moderator',
        position: { x: 750, y: 20 },
        connections: [{ to: 'mod-caregiver-sub-editor', type: 'normal' }],
      },
      {
        id: 'mod-caregiver-sub-editor',
        label: 'Create Subscription Package',
        type: 'action',
        description: 'Define pricing, duration, features (monthly/yearly plans)',
        swimlaneId: 'moderator',
        position: { x: 980, y: 20 },
        connections: [{ to: 'mod-caregiver-sub-save', type: 'normal' }],
      },
      {
        id: 'mod-caregiver-sub-save',
        label: 'Publish Subscription Package',
        type: 'process',
        description: 'Available for Caregivers to purchase',
        swimlaneId: 'moderator',
        position: { x: 1210, y: 20 },
      },
      // Verification Queue Branch
      {
        id: 'mod-verification',
        label: 'Verification Queue',
        type: 'action',
        description: 'Review company and caregiver applications',
        swimlaneId: 'moderator',
        position: { x: 750, y: 80 },
        connections: [{ to: 'mod-verify-review', type: 'normal' }],
      },
      {
        id: 'mod-verify-review',
        label: 'Review Documents',
        type: 'process',
        description: 'Examine documents, credentials, and information',
        swimlaneId: 'moderator',
        position: { x: 1000, y: 70 },
        connections: [{ to: 'mod-verify-decision', type: 'normal' }],
      },
      {
        id: 'mod-verify-decision',
        label: 'Valid?',
        type: 'decision',
        swimlaneId: 'moderator',
        position: { x: 1250, y: 60 },
        connections: [
          { to: 'mod-recommend-approve', label: 'Yes', type: 'normal' },
          { to: 'mod-recommend-reject', label: 'No', type: 'conditional' },
        ],
      },
      {
        id: 'mod-recommend-approve',
        label: 'Forward to Admin for Approval',
        type: 'process',
        description: 'Send recommendation to admin',
        swimlaneId: 'moderator',
        position: { x: 1500, y: 40 },
      },
      {
        id: 'mod-recommend-reject',
        label: 'Forward to Admin for Rejection',
        type: 'process',
        description: 'Send rejection recommendation with reasons',
        swimlaneId: 'moderator',
        position: { x: 1500, y: 100 },
      },
      // Dispute Center Branch
      {
        id: 'mod-disputes',
        label: 'Dispute Center',
        type: 'action',
        description: 'Investigate and gather evidence for disputes',
        swimlaneId: 'moderator',
        position: { x: 750, y: 150 },
        connections: [{ to: 'mod-dispute-review', type: 'normal' }],
      },
      {
        id: 'mod-dispute-review',
        label: 'Review Evidence',
        type: 'process',
        description: 'Examine care logs, payments, messages, and documents',
        swimlaneId: 'moderator',
        position: { x: 1000, y: 150 },
        connections: [{ to: 'mod-dispute-complexity', type: 'normal' }],
      },
      {
        id: 'mod-dispute-complexity',
        label: 'Complex?',
        type: 'decision',
        description: 'Can moderator resolve or escalate to admin?',
        swimlaneId: 'moderator',
        position: { x: 1250, y: 140 },
        connections: [
          { to: 'mod-dispute-resolve', label: 'Simple', type: 'normal' },
          { to: 'mod-dispute-escalate', label: 'Complex', type: 'conditional' },
        ],
      },
      {
        id: 'mod-dispute-resolve',
        label: 'Resolve Dispute',
        type: 'process',
        description: 'Make decision and close dispute',
        swimlaneId: 'moderator',
        position: { x: 1500, y: 120 },
        connections: [{ to: 'mod-dispute-submit-admin', type: 'normal' }],
      },
      {
        id: 'mod-dispute-escalate',
        label: 'Escalate to Admin',
        type: 'process',
        description: 'Send complex dispute to Admin',
        swimlaneId: 'moderator',
        position: { x: 1500, y: 180 },
      },
      {
        id: 'mod-dispute-submit-admin',
        label: 'Submit to Admin',
        type: 'process',
        description: 'Send resolution to Admin for approval',
        swimlaneId: 'moderator',
        position: { x: 1750, y: 120 },
      },
      // Caregiver CV Pool Branch
      {
        id: 'mod-cv-pool',
        label: 'Caregiver CV Pool',
        type: 'action',
        description: 'Search and match caregivers with jobs',
        swimlaneId: 'moderator',
        position: { x: 750, y: 210 },
      },
      // First Line Support Tickets Branch
      {
        id: 'mod-tickets',
        label: 'Support Tickets (First Line)',
        type: 'action',
        description: 'Handle all incoming support tickets',
        swimlaneId: 'moderator',
        position: { x: 750, y: 270 },
        connections: [{ to: 'mod-ticket-details', type: 'normal' }],
      },
      {
        id: 'mod-ticket-details',
        label: 'View Ticket Details',
        type: 'action',
        swimlaneId: 'moderator',
        position: { x: 980, y: 270 },
        connections: [{ to: 'mod-ticket-complexity', type: 'normal' }],
      },
      {
        id: 'mod-ticket-complexity',
        label: 'Can Resolve?',
        type: 'decision',
        description: 'Can moderator handle or escalate?',
        swimlaneId: 'moderator',
        position: { x: 1210, y: 260 },
        connections: [
          { to: 'mod-ticket-resolve', label: 'Yes', type: 'normal' },
          { to: 'mod-ticket-escalate', label: 'Escalate', type: 'conditional' },
        ],
      },
      {
        id: 'mod-ticket-resolve',
        label: 'Resolve Ticket',
        type: 'process',
        description: 'Take action and resolve',
        swimlaneId: 'moderator',
        position: { x: 1440, y: 240 },
        connections: [{ to: 'mod-ticket-submit', type: 'normal' }],
      },
      {
        id: 'mod-ticket-escalate',
        label: 'Escalate to Admin',
        type: 'process',
        description: 'Send complex ticket to Admin',
        swimlaneId: 'moderator',
        position: { x: 1440, y: 300 },
      },
      {
        id: 'mod-ticket-submit',
        label: 'Submit to Admin',
        type: 'process',
        description: 'Send resolution to Admin for approval',
        swimlaneId: 'moderator',
        position: { x: 1670, y: 240 },
      },
      // Platform Analytics Branch
      {
        id: 'mod-analytics',
        label: 'Platform Analytics',
        type: 'action',
        description: 'View metrics dashboard with key performance indicators',
        swimlaneId: 'moderator',
        position: { x: 750, y: 360 },
        connections: [{ to: 'mod-metrics', type: 'normal' }],
      },
      {
        id: 'mod-metrics',
        label: 'View Metrics Dashboard',
        type: 'action',
        swimlaneId: 'moderator',
        position: { x: 980, y: 360 },
        connections: [
          { to: 'mod-metric-growth', type: 'data' },
          { to: 'mod-metric-volume', type: 'data' },
          { to: 'mod-metric-dispute', type: 'data' },
          { to: 'mod-metric-revenue', type: 'data' },
        ],
      },
      {
        id: 'mod-metric-growth',
        label: 'User Growth',
        type: 'data',
        swimlaneId: 'moderator',
        position: { x: 1210, y: 340 },
      },
      {
        id: 'mod-metric-volume',
        label: 'Transaction Volume',
        type: 'data',
        swimlaneId: 'moderator',
        position: { x: 1320, y: 340 },
      },
      {
        id: 'mod-metric-dispute',
        label: 'Dispute Rate',
        type: 'data',
        swimlaneId: 'moderator',
        position: { x: 1210, y: 400 },
      },
      {
        id: 'mod-metric-revenue',
        label: 'Revenue Reports',
        type: 'data',
        swimlaneId: 'moderator',
        position: { x: 1320, y: 400 },
      },
      // Billing Branch
      {
        id: 'mod-billing',
        label: 'Billing',
        type: 'action',
        description: 'Manage and view billing information',
        swimlaneId: 'moderator',
        position: { x: 750, y: 460 },
        connections: [{ to: 'mod-invoices', type: 'normal' }],
      },
      {
        id: 'mod-invoices',
        label: 'View Invoices',
        type: 'action',
        swimlaneId: 'moderator',
        position: { x: 980, y: 460 },
        connections: [
          { to: 'mod-invoice-details', type: 'data' },
          { to: 'mod-invoice-payment', type: 'data' },
        ],
      },
      {
        id: 'mod-invoice-details',
        label: 'Invoice Details',
        type: 'data',
        swimlaneId: 'moderator',
        position: { x: 1210, y: 440 },
      },
      {
        id: 'mod-invoice-payment',
        label: 'Payment Status',
        type: 'data',
        swimlaneId: 'moderator',
        position: { x: 1320, y: 440 },
      },
      // System Settings Branch
      {
        id: 'mod-settings',
        label: 'System Settings',
        type: 'action',
        swimlaneId: 'moderator',
        position: { x: 750, y: 520 },
        connections: [
          { to: 'mod-settings-flags', type: 'normal' },
          { to: 'mod-settings-policies', type: 'normal' },
        ],
      },
      {
        id: 'mod-settings-flags',
        label: 'Manage Feature Flags',
        type: 'process',
        swimlaneId: 'moderator',
        position: { x: 980, y: 500 },
      },
      {
        id: 'mod-settings-policies',
        label: 'Update Platform Policies',
        type: 'process',
        swimlaneId: 'moderator',
        position: { x: 980, y: 560 },
      },
      // Messages/Communication Branch
      {
        id: 'mod-messages',
        label: 'Platform Communications',
        type: 'action',
        description: 'Communicate with all platform entities',
        swimlaneId: 'moderator',
        position: { x: 750, y: 580 },
        connections: [{ to: 'mod-msg-inbox', type: 'normal' }],
      },
      {
        id: 'mod-msg-inbox',
        label: 'Message Center',
        type: 'process',
        description: 'View all conversations',
        swimlaneId: 'moderator',
        position: { x: 980, y: 580 },
        connections: [
          { to: 'mod-msg-agencies', type: 'normal' },
          { to: 'mod-msg-caregivers', type: 'normal' },
          { to: 'mod-msg-guardians', type: 'normal' },
          { to: 'mod-msg-admin', type: 'normal' },
        ],
      },
      {
        id: 'mod-msg-agencies',
        label: 'Chat with Agencies',
        type: 'action',
        description: 'Communicate with agencies',
        swimlaneId: 'moderator',
        position: { x: 1210, y: 540 },
      },
      {
        id: 'mod-msg-caregivers',
        label: 'Chat with Caregivers',
        type: 'action',
        description: 'Communicate with caregivers',
        swimlaneId: 'moderator',
        position: { x: 1210, y: 575 },
      },
      {
        id: 'mod-msg-guardians',
        label: 'Chat with Guardians',
        type: 'action',
        description: 'Communicate with guardians',
        swimlaneId: 'moderator',
        position: { x: 1210, y: 610 },
      },
      {
        id: 'mod-msg-admin',
        label: 'Contact Admin',
        type: 'action',
        description: 'Escalate to Admin',
        swimlaneId: 'moderator',
        position: { x: 1210, y: 645 },
      },
      // Agency Legal Documents Branch
      {
        id: 'mod-agency-legal',
        label: 'Agency Legal Documents',
        type: 'action',
        description: 'Verify agency legal and regulatory documents',
        swimlaneId: 'moderator',
        position: { x: 750, y: 690 },
        connections: [{ to: 'mod-legal-queue', type: 'normal' }],
      },
      {
        id: 'mod-legal-queue',
        label: 'Legal Document Queue',
        type: 'action',
        description: 'View agencies pending legal document verification',
        swimlaneId: 'moderator',
        position: { x: 980, y: 620 },
        connections: [{ to: 'mod-legal-review', type: 'normal' }],
      },
      {
        id: 'mod-legal-review',
        label: 'Review Legal Documents',
        type: 'process',
        description: 'Verify trade license, TIN certificate, registration documents',
        swimlaneId: 'moderator',
        position: { x: 1210, y: 620 },
        connections: [{ to: 'mod-legal-valid', type: 'normal' }],
      },
      {
        id: 'mod-legal-valid',
        label: 'Valid?',
        type: 'decision',
        swimlaneId: 'moderator',
        position: { x: 1440, y: 610 },
        connections: [
          { to: 'mod-legal-recommend-approve', label: 'Yes', type: 'normal' },
          { to: 'mod-legal-recommend-reject', label: 'No', type: 'conditional' },
        ],
      },
      {
        id: 'mod-legal-recommend-approve',
        label: 'Recommend Approval',
        type: 'process',
        description: 'Prepare approval recommendation',
        swimlaneId: 'moderator',
        position: { x: 1670, y: 590 },
        connections: [{ to: 'mod-legal-submit', type: 'normal' }],
      },
      {
        id: 'mod-legal-recommend-reject',
        label: 'Recommend Rejection',
        type: 'process',
        description: 'Prepare rejection with reason',
        swimlaneId: 'moderator',
        position: { x: 1670, y: 650 },
        connections: [{ to: 'mod-legal-submit', type: 'normal' }],
      },
      {
        id: 'mod-legal-submit',
        label: 'Submit to Admin',
        type: 'process',
        description: 'Send to Admin for final approval',
        swimlaneId: 'moderator',
        position: { x: 1900, y: 620 },
      },
      // Agency Physical Verification Branch
      {
        id: 'mod-agency-physical',
        label: 'Agency Physical Verification',
        type: 'action',
        description: 'Verify agency physical location and operations',
        swimlaneId: 'moderator',
        position: { x: 750, y: 720 },
        connections: [{ to: 'mod-physical-queue', type: 'normal' }],
      },
      {
        id: 'mod-physical-queue',
        label: 'Physical Verification Queue',
        type: 'action',
        description: 'View agencies pending physical verification',
        swimlaneId: 'moderator',
        position: { x: 980, y: 720 },
        connections: [{ to: 'mod-physical-review', type: 'normal' }],
      },
      {
        id: 'mod-physical-review',
        label: 'Review Physical Evidence',
        type: 'process',
        description: 'Verify office photos, location proof, site visit reports',
        swimlaneId: 'moderator',
        position: { x: 1210, y: 720 },
        connections: [{ to: 'mod-physical-valid', type: 'normal' }],
      },
      {
        id: 'mod-physical-valid',
        label: 'Valid?',
        type: 'decision',
        swimlaneId: 'moderator',
        position: { x: 1440, y: 710 },
        connections: [
          { to: 'mod-physical-recommend-approve', label: 'Yes', type: 'normal' },
          { to: 'mod-physical-recommend-reject', label: 'No', type: 'conditional' },
        ],
      },
      {
        id: 'mod-physical-recommend-approve',
        label: 'Recommend Approval',
        type: 'process',
        description: 'Prepare approval recommendation',
        swimlaneId: 'moderator',
        position: { x: 1670, y: 690 },
        connections: [{ to: 'mod-physical-submit', type: 'normal' }],
      },
      {
        id: 'mod-physical-recommend-reject',
        label: 'Recommend Rejection',
        type: 'process',
        description: 'Prepare rejection with reason',
        swimlaneId: 'moderator',
        position: { x: 1670, y: 750 },
        connections: [{ to: 'mod-physical-submit', type: 'normal' }],
      },
      {
        id: 'mod-physical-submit',
        label: 'Submit to Admin',
        type: 'process',
        description: 'Send to Admin for final approval',
        swimlaneId: 'moderator',
        position: { x: 1900, y: 720 },
      },
      // Caregiver Certificates Branch
      {
        id: 'mod-cg-certificates',
        label: 'Caregiver Certificates',
        type: 'action',
        description: 'Manage and verify caregiver certificates',
        swimlaneId: 'moderator',
        position: { x: 750, y: 820 },
        connections: [{ to: 'mod-cert-queue', type: 'normal' }],
      },
      {
        id: 'mod-cert-queue',
        label: 'Certificate Queue',
        type: 'action',
        description: 'View caregivers pending certificate verification',
        swimlaneId: 'moderator',
        position: { x: 980, y: 820 },
        connections: [{ to: 'mod-cert-review', type: 'normal' }],
      },
      {
        id: 'mod-cert-review',
        label: 'Review Certificates',
        type: 'process',
        description: 'Verify nursing certificates, training, CPR, etc.',
        swimlaneId: 'moderator',
        position: { x: 1210, y: 820 },
        connections: [{ to: 'mod-cert-valid', type: 'normal' }],
      },
      {
        id: 'mod-cert-valid',
        label: 'Valid?',
        type: 'decision',
        swimlaneId: 'moderator',
        position: { x: 1440, y: 810 },
        connections: [
          { to: 'mod-cert-recommend-approve', label: 'Yes', type: 'normal' },
          { to: 'mod-cert-recommend-reject', label: 'No', type: 'conditional' },
        ],
      },
      {
        id: 'mod-cert-recommend-approve',
        label: 'Recommend Approval',
        type: 'process',
        description: 'Prepare approval recommendation',
        swimlaneId: 'moderator',
        position: { x: 1670, y: 790 },
        connections: [{ to: 'mod-cert-submit', type: 'normal' }],
      },
      {
        id: 'mod-cert-recommend-reject',
        label: 'Recommend Rejection',
        type: 'process',
        description: 'Prepare rejection with reason',
        swimlaneId: 'moderator',
        position: { x: 1670, y: 850 },
        connections: [{ to: 'mod-cert-submit', type: 'normal' }],
      },
      {
        id: 'mod-cert-submit',
        label: 'Submit to Admin',
        type: 'process',
        description: 'Send to Admin for final approval',
        swimlaneId: 'moderator',
        position: { x: 1900, y: 820 },
      },
      // Caregiver Police Clearance Branch
      {
        id: 'mod-cg-police',
        label: 'Caregiver Police Clearance',
        type: 'action',
        description: 'Manage and verify caregiver police clearance',
        swimlaneId: 'moderator',
        position: { x: 750, y: 920 },
        connections: [{ to: 'mod-police-queue', type: 'normal' }],
      },
      {
        id: 'mod-police-queue',
        label: 'Police Clearance Queue',
        type: 'action',
        description: 'View caregivers pending police verification',
        swimlaneId: 'moderator',
        position: { x: 980, y: 920 },
        connections: [{ to: 'mod-police-review', type: 'normal' }],
      },
      {
        id: 'mod-police-review',
        label: 'Review Police Clearance',
        type: 'process',
        description: 'Verify police clearance certificate authenticity',
        swimlaneId: 'moderator',
        position: { x: 1210, y: 920 },
        connections: [{ to: 'mod-police-valid', type: 'normal' }],
      },
      {
        id: 'mod-police-valid',
        label: 'Valid?',
        type: 'decision',
        swimlaneId: 'moderator',
        position: { x: 1440, y: 910 },
        connections: [
          { to: 'mod-police-recommend-approve', label: 'Yes', type: 'normal' },
          { to: 'mod-police-recommend-reject', label: 'No', type: 'conditional' },
        ],
      },
      {
        id: 'mod-police-recommend-approve',
        label: 'Recommend Approval',
        type: 'process',
        description: 'Prepare approval recommendation',
        swimlaneId: 'moderator',
        position: { x: 1670, y: 890 },
        connections: [{ to: 'mod-police-submit', type: 'normal' }],
      },
      {
        id: 'mod-police-recommend-reject',
        label: 'Recommend Rejection',
        type: 'process',
        description: 'Prepare rejection with reason',
        swimlaneId: 'moderator',
        position: { x: 1670, y: 950 },
        connections: [{ to: 'mod-police-submit', type: 'normal' }],
      },
      {
        id: 'mod-police-submit',
        label: 'Submit to Admin',
        type: 'process',
        description: 'Send to Admin for final approval',
        swimlaneId: 'moderator',
        position: { x: 1900, y: 920 },
      },
      // Caregiver Interview Assessment Branch
      {
        id: 'mod-cg-interview',
        label: 'Caregiver Interview',
        type: 'action',
        description: 'Conduct and assess caregiver interviews',
        swimlaneId: 'moderator',
        position: { x: 750, y: 1020 },
        connections: [{ to: 'mod-interview-queue', type: 'normal' }],
      },
      {
        id: 'mod-interview-queue',
        label: 'Interview Queue',
        type: 'action',
        description: 'View caregivers pending interview',
        swimlaneId: 'moderator',
        position: { x: 980, y: 1020 },
        connections: [{ to: 'mod-interview-conduct', type: 'normal' }],
      },
      {
        id: 'mod-interview-conduct',
        label: 'Conduct Interview',
        type: 'process',
        description: 'Assess communication, professionalism, experience, ethics',
        swimlaneId: 'moderator',
        position: { x: 1210, y: 1020 },
        connections: [{ to: 'mod-interview-mark', type: 'normal' }],
      },
      {
        id: 'mod-interview-mark',
        label: 'Mark Interview',
        type: 'action',
        description: 'Score: Excellent/Good/Average/Poor',
        swimlaneId: 'moderator',
        position: { x: 1440, y: 1020 },
        connections: [{ to: 'mod-interview-submit', type: 'normal' }],
      },
      {
        id: 'mod-interview-submit',
        label: 'Submit to Admin',
        type: 'process',
        description: 'Send interview marks to Admin for review',
        swimlaneId: 'moderator',
        position: { x: 1670, y: 1020 },
      },
      // Caregiver Psychological Analysis Branch
      {
        id: 'mod-cg-psycho',
        label: 'Caregiver Psychological Analysis',
        type: 'action',
        description: 'Conduct and assess psychological evaluation',
        swimlaneId: 'moderator',
        position: { x: 750, y: 1120 },
        connections: [{ to: 'mod-psycho-queue', type: 'normal' }],
      },
      {
        id: 'mod-psycho-queue',
        label: 'Psychological Assessment Queue',
        type: 'action',
        description: 'View caregivers pending psychological analysis',
        swimlaneId: 'moderator',
        position: { x: 980, y: 1120 },
        connections: [{ to: 'mod-psycho-conduct', type: 'normal' }],
      },
      {
        id: 'mod-psycho-conduct',
        label: 'Conduct Assessment',
        type: 'process',
        description: 'Evaluate emotional stability, stress tolerance, empathy',
        swimlaneId: 'moderator',
        position: { x: 1210, y: 1120 },
        connections: [{ to: 'mod-psycho-mark', type: 'normal' }],
      },
      {
        id: 'mod-psycho-mark',
        label: 'Mark Analysis',
        type: 'action',
        description: 'Score: Fit/Acceptable/Needs Support/Unfit',
        swimlaneId: 'moderator',
        position: { x: 1440, y: 1120 },
        connections: [{ to: 'mod-psycho-submit', type: 'normal' }],
      },
      {
        id: 'mod-psycho-submit',
        label: 'Submit to Admin',
        type: 'process',
        description: 'Send psychological assessment to Admin for review',
        swimlaneId: 'moderator',
        position: { x: 1670, y: 1120 },
      },
    ],
  },

  agency: {
    title: 'Agency Admin Workflow',
    description: 'Register agency, manage packages, assign caregivers, and track finances',
    emoji: 'üè¢',
    swimlanes: ['agency-admin'],
    steps: [
      {
        id: 'agency-start',
        label: 'START',
        type: 'start',
        swimlaneId: 'agency-admin',
        position: { x: 50, y: 80 },
        connections: [{ to: 'agency-register', type: 'normal' }],
      },
      {
        id: 'agency-register',
        label: 'Register Agency',
        type: 'action',
        description: 'Fill registration form with company details',
        swimlaneId: 'agency-admin',
        position: { x: 220, y: 70 },
        connections: [{ to: 'agency-upload', type: 'normal' }],
      },
      {
        id: 'agency-upload',
        label: 'Upload Documents',
        type: 'action',
        description: 'Trade license, TIN certificate, company logo',
        swimlaneId: 'agency-admin',
        position: { x: 450, y: 70 },
        connections: [{ to: 'agency-submit', type: 'normal' }],
      },
      {
        id: 'agency-submit',
        label: 'Submit for Verification',
        type: 'process',
        swimlaneId: 'agency-admin',
        position: { x: 680, y: 70 },
        connections: [{ to: 'agency-pending', type: 'normal' }],
      },
      {
        id: 'agency-pending',
        label: 'PENDING',
        type: 'process',
        description: 'Awaiting moderator approval',
        swimlaneId: 'agency-admin',
        position: { x: 910, y: 70 },
        connections: [{ to: 'agency-approved', type: 'normal' }],
      },
      {
        id: 'agency-approved',
        label: 'Approved?',
        type: 'decision',
        swimlaneId: 'agency-admin',
        position: { x: 1140, y: 60 },
        connections: [
          { to: 'agency-onboard', label: 'Yes', type: 'normal' },
          { to: 'agency-reject', label: 'No', type: 'conditional' },
        ],
      },
      {
        id: 'agency-reject',
        label: 'View Rejection',
        type: 'process',
        swimlaneId: 'agency-admin',
        position: { x: 1340, y: 20 },
        connections: [{ to: 'agency-register', type: 'error' }],
      },
      {
        id: 'agency-onboard',
        label: 'Complete Onboarding',
        type: 'process',
        description: 'Set service zones, payment methods, create packages',
        swimlaneId: 'agency-admin',
        position: { x: 1340, y: 90 },
        connections: [{ to: 'agency-dashboard', type: 'normal' }],
      },
      {
        id: 'agency-dashboard',
        label: 'Agency Dashboard',
        type: 'process',
        swimlaneId: 'agency-admin',
        position: { x: 1570, y: 80 },
        connections: [
          { to: 'agency-subscriptions', type: 'normal' },
          { to: 'agency-packages', type: 'normal' },
          { to: 'agency-roster', type: 'normal' },
          { to: 'agency-jobs', type: 'normal' },
          { to: 'agency-caregiver-pool', type: 'normal' },
          { to: 'agency-messages', type: 'normal' },
          { to: 'agency-billing', type: 'normal' },
        ],
      },
      {
        id: 'agency-subscriptions',
        label: 'View Subscription Plans',
        type: 'action',
        description: 'Browse agency-only subscription packages',
        swimlaneId: 'agency-admin',
        position: { x: 1800, y: -80 },
        connections: [{ to: 'agency-sub-select', type: 'normal' }],
      },
      {
        id: 'agency-sub-select',
        label: 'Select Subscription',
        type: 'action',
        description: 'Choose a subscription plan (monthly/yearly)',
        swimlaneId: 'agency-admin',
        position: { x: 2030, y: -80 },
        connections: [{ to: 'agency-sub-payment', type: 'normal' }],
      },
      {
        id: 'agency-sub-payment',
        label: 'Subscribe & Pay',
        type: 'external',
        description: 'Complete subscription payment',
        swimlaneId: 'agency-admin',
        position: { x: 2260, y: -80 },
        connections: [{ to: 'agency-sub-active', type: 'normal' }],
      },
      {
        id: 'agency-sub-active',
        label: 'Subscription Active',
        type: 'process',
        description: 'Access premium features',
        swimlaneId: 'agency-admin',
        position: { x: 2490, y: -80 },
      },
      {
        id: 'agency-packages',
        label: 'Manage Packages',
        type: 'action',
        description: 'Create and publish care packages',
        swimlaneId: 'agency-admin',
        position: { x: 1800, y: 0 },
        connections: [
          { to: 'agency-pkg-create', type: 'normal' },
          { to: 'agency-pkg-offers', type: 'normal' },
        ],
      },
      {
        id: 'agency-pkg-create',
        label: 'Create/Edit Package',
        type: 'process',
        description: 'Set pricing, services, duration',
        swimlaneId: 'agency-admin',
        position: { x: 2030, y: -20 },
      },
      {
        id: 'agency-pkg-offers',
        label: 'Package Inquiries',
        type: 'action',
        description: 'View counter-offers from guardians',
        swimlaneId: 'agency-admin',
        position: { x: 2030, y: 20 },
        connections: [{ to: 'agency-pkg-review', type: 'normal' }],
      },
      {
        id: 'agency-pkg-review',
        label: 'Review Counter-offer',
        type: 'process',
        description: 'Guardian requested discount or customization',
        swimlaneId: 'agency-admin',
        position: { x: 2260, y: 20 },
        connections: [{ to: 'agency-pkg-respond', type: 'normal' }],
      },
      {
        id: 'agency-pkg-respond',
        label: 'Make Counter-offer',
        type: 'decision',
        description: 'Offer discount, add services, or decline',
        swimlaneId: 'agency-admin',
        position: { x: 2490, y: 10 },
        connections: [
          { to: 'agency-pkg-discount', label: 'Discount', type: 'normal' },
          { to: 'agency-pkg-addition', label: 'Add Services', type: 'conditional' },
          { to: 'agency-pkg-decline', label: 'Decline', type: 'error' },
        ],
      },
      {
        id: 'agency-pkg-discount',
        label: 'Offer Discount',
        type: 'process',
        description: 'Reduce price to match budget',
        swimlaneId: 'agency-admin',
        position: { x: 2720, y: -10 },
      },
      {
        id: 'agency-pkg-addition',
        label: 'Add Services/Customize',
        type: 'process',
        description: 'Bundle additional services',
        swimlaneId: 'agency-admin',
        position: { x: 2720, y: 20 },
      },
      {
        id: 'agency-pkg-decline',
        label: 'Decline Offer',
        type: 'process',
        description: 'Cannot meet guardian requirements',
        swimlaneId: 'agency-admin',
        position: { x: 2720, y: 50 },
      },
      // Roster Management Branch
      {
        id: 'agency-roster',
        label: 'Manage Roster',
        type: 'action',
        description: 'Add caregivers from CV pool or new hires',
        swimlaneId: 'agency-admin',
        position: { x: 1800, y: 90 },
      },
      // Caregiver Pool Branch
      {
        id: 'agency-caregiver-pool',
        label: 'Search Caregiver Pool',
        type: 'action',
        description: 'Browse and search available caregivers',
        swimlaneId: 'agency-admin',
        position: { x: 1800, y: 130 },
        connections: [{ to: 'agency-cg-search', type: 'normal' }],
      },
      {
        id: 'agency-cg-search',
        label: 'Search Filters',
        type: 'process',
        description: 'Filter by skills, location, availability, ratings',
        swimlaneId: 'agency-admin',
        position: { x: 2030, y: 130 },
        connections: [{ to: 'agency-cg-results', type: 'normal' }],
      },
      {
        id: 'agency-cg-results',
        label: 'View Results',
        type: 'action',
        description: 'List of matching caregivers',
        swimlaneId: 'agency-admin',
        position: { x: 2260, y: 130 },
        connections: [{ to: 'agency-cg-details', type: 'normal' }],
      },
      {
        id: 'agency-cg-details',
        label: 'View Caregiver Details',
        type: 'process',
        description: 'Profile, certificates, availability status, ratings',
        swimlaneId: 'agency-admin',
        position: { x: 2490, y: 130 },
        connections: [
          { to: 'agency-cg-availability', type: 'data' },
          { to: 'agency-cg-contact', type: 'normal' },
        ],
      },
      {
        id: 'agency-cg-availability',
        label: 'Check Availability',
        type: 'data',
        description: 'Available / Busy / On Assignment',
        swimlaneId: 'agency-admin',
        position: { x: 2720, y: 110 },
      },
      {
        id: 'agency-cg-contact',
        label: 'Contact Caregiver',
        type: 'action',
        description: 'Send message or job offer',
        swimlaneId: 'agency-admin',
        position: { x: 2720, y: 150 },
      },
      // Messages/Communication Branch
      {
        id: 'agency-messages',
        label: 'Messages & Chat',
        type: 'action',
        description: 'Communicate with caregivers, guardians, moderators',
        swimlaneId: 'agency-admin',
        position: { x: 1800, y: 190 },
        connections: [{ to: 'agency-msg-inbox', type: 'normal' }],
      },
      {
        id: 'agency-msg-inbox',
        label: 'Message Inbox',
        type: 'process',
        description: 'View all conversations',
        swimlaneId: 'agency-admin',
        position: { x: 2030, y: 190 },
        connections: [
          { to: 'agency-msg-caregivers', type: 'normal' },
          { to: 'agency-msg-guardians', type: 'normal' },
          { to: 'agency-msg-support', type: 'normal' },
        ],
      },
      {
        id: 'agency-msg-caregivers',
        label: 'Chat with Caregivers',
        type: 'action',
        description: 'Direct messaging with assigned caregivers',
        swimlaneId: 'agency-admin',
        position: { x: 2260, y: 170 },
      },
      {
        id: 'agency-msg-guardians',
        label: 'Chat with Guardians',
        type: 'action',
        description: 'Communicate with job purchasers',
        swimlaneId: 'agency-admin',
        position: { x: 2260, y: 200 },
      },
      {
        id: 'agency-msg-support',
        label: 'Contact Support',
        type: 'action',
        description: 'Message moderators/admin for help',
        swimlaneId: 'agency-admin',
        position: { x: 2260, y: 230 },
      },
      // Job Management Branch
      {
        id: 'agency-jobs',
        label: 'Job Inbox',
        type: 'action',
        description: 'Purchased packages become jobs',
        swimlaneId: 'agency-admin',
        position: { x: 1800, y: 270 },
        connections: [{ to: 'agency-job-view', type: 'normal' }],
      },
      {
        id: 'agency-job-view',
        label: 'View Job Details',
        type: 'process',
        description: 'Guardian, patient, package requirements',
        swimlaneId: 'agency-admin',
        position: { x: 2030, y: 270 },
        connections: [{ to: 'agency-job-assign', type: 'normal' }],
      },
      {
        id: 'agency-job-assign',
        label: 'Assign Caregiver',
        type: 'decision',
        description: 'From roster or search pool',
        swimlaneId: 'agency-admin',
        position: { x: 2260, y: 260 },
        connections: [
          { to: 'agency-job-roster', label: 'From Roster', type: 'normal' },
          { to: 'agency-job-search', label: 'Search Pool', type: 'conditional' },
        ],
      },
      {
        id: 'agency-job-roster',
        label: 'Select from Roster',
        type: 'action',
        description: 'Choose assigned caregiver',
        swimlaneId: 'agency-admin',
        position: { x: 2490, y: 240 },
        connections: [{ to: 'agency-job-deploy', type: 'normal' }],
      },
      {
        id: 'agency-job-search',
        label: 'Search Caregiver Pool',
        type: 'action',
        description: 'Find available caregiver',
        swimlaneId: 'agency-admin',
        position: { x: 2490, y: 280 },
        connections: [{ to: 'agency-job-deploy', type: 'normal' }],
      },
      {
        id: 'agency-job-deploy',
        label: 'Deploy Caregiver',
        type: 'process',
        description: 'Send job offer to caregiver',
        swimlaneId: 'agency-admin',
        position: { x: 2720, y: 260 },
        connections: [{ to: 'agency-job-wait', type: 'normal' }],
      },
      {
        id: 'agency-job-wait',
        label: 'Wait for Acceptance',
        type: 'process',
        description: 'Caregiver reviews job offer',
        swimlaneId: 'agency-admin',
        position: { x: 2950, y: 260 },
        connections: [{ to: 'agency-job-status', type: 'normal' }],
      },
      {
        id: 'agency-job-status',
        label: 'Job Status',
        type: 'decision',
        swimlaneId: 'agency-admin',
        position: { x: 3180, y: 250 },
        connections: [
          { to: 'agency-job-active', label: 'Accepted', type: 'normal' },
          { to: 'agency-job-assign', label: 'Declined', type: 'error' },
        ],
      },
      {
        id: 'agency-job-active',
        label: 'Job Active',
        type: 'process',
        description: 'Caregiver on assignment',
        swimlaneId: 'agency-admin',
        position: { x: 3410, y: 260 },
      },
      // Billing Branch
      {
        id: 'agency-billing',
        label: 'View Billing',
        type: 'action',
        description: 'Manage all billing operations',
        swimlaneId: 'agency-admin',
        position: { x: 1800, y: 340 },
        connections: [
          { to: 'agency-billing-breakdown', type: 'normal' },
          { to: 'agency-generate-guardian-invoice', type: 'normal' },
          { to: 'agency-caregiver-invoices', type: 'normal' },
        ],
      },
      // Agency ‚Üí Guardian Billing
      {
        id: 'agency-generate-guardian-invoice',
        label: 'Generate Invoice to Guardian',
        type: 'action',
        description: 'Bill guardian for completed services',
        swimlaneId: 'agency-admin',
        position: { x: 2030, y: 220 },
        connections: [{ to: 'agency-guardian-invoice-details', type: 'normal' }],
      },
      {
        id: 'agency-guardian-invoice-details',
        label: 'Service Invoice Details',
        type: 'process',
        description: 'Package price, duration, completion status',
        swimlaneId: 'agency-admin',
        position: { x: 2260, y: 220 },
        connections: [{ to: 'agency-send-guardian-invoice', type: 'normal' }],
      },
      {
        id: 'agency-send-guardian-invoice',
        label: 'Send to Guardian',
        type: 'process',
        description: 'Guardian receives invoice for payment',
        swimlaneId: 'agency-admin',
        position: { x: 2490, y: 220 },
      },
      // Agency receives invoices from Caregivers
      {
        id: 'agency-caregiver-invoices',
        label: 'Caregiver Invoices',
        type: 'action',
        description: 'Review caregiver job invoices',
        swimlaneId: 'agency-admin',
        position: { x: 2030, y: 280 },
        connections: [{ to: 'agency-review-cg-invoice', type: 'normal' }],
      },
      {
        id: 'agency-review-cg-invoice',
        label: 'Review & Approve',
        type: 'process',
        description: 'Verify hours and pay caregiver',
        swimlaneId: 'agency-admin',
        position: { x: 2260, y: 280 },
        connections: [{ to: 'agency-pay-caregiver', type: 'normal' }],
      },
      {
        id: 'agency-pay-caregiver',
        label: 'Pay Caregiver',
        type: 'external',
        description: 'Process payment to caregiver',
        swimlaneId: 'agency-admin',
        position: { x: 2490, y: 280 },
      },
      // Platform ‚Üí Agency Billing (Subscription + Commission)
      {
        id: 'agency-billing-breakdown',
        label: 'Platform Invoice',
        type: 'process',
        description: 'Subscription + Commission from platform',
        swimlaneId: 'agency-admin',
        position: { x: 2030, y: 360 },
        connections: [
          { to: 'agency-billing-sub', type: 'data' },
          { to: 'agency-billing-commission', type: 'data' },
        ],
      },
      {
        id: 'agency-billing-sub',
        label: 'Subscription Charges',
        type: 'data',
        description: 'Monthly/Yearly subscription fee',
        swimlaneId: 'agency-admin',
        position: { x: 2260, y: 340 },
      },
      {
        id: 'agency-billing-commission',
        label: 'Transaction Commissions',
        type: 'data',
        description: 'Per-job platform commission',
        swimlaneId: 'agency-admin',
        position: { x: 2260, y: 380 },
      },
      {
        id: 'agency-pay-platform',
        label: 'Pay Platform Invoice',
        type: 'external',
        description: 'Payment for subscription + commission',
        swimlaneId: 'agency-admin',
        position: { x: 2490, y: 360 },
      },
      // Payment Enforcement & Lockout
      {
        id: 'agency-payment-check',
        label: 'Payment Status Check',
        type: 'decision',
        description: '7-day payment enforcement system',
        swimlaneId: 'agency-admin',
        position: { x: 2260, y: 440 },
        connections: [
          { to: 'agency-payment-ok', label: 'Paid on time', type: 'normal' },
          { to: 'agency-payment-day3', label: 'Day 3', type: 'normal' },
          { to: 'agency-payment-day7', label: 'Day 7', type: 'error' },
        ],
      },
      {
        id: 'agency-payment-ok',
        label: 'Account Active',
        type: 'process',
        description: 'Full platform access',
        swimlaneId: 'agency-admin',
        position: { x: 2030, y: 500 },
      },
      {
        id: 'agency-payment-day3',
        label: 'Payment Reminder',
        type: 'notification',
        description: 'First reminder sent (Day 3)',
        swimlaneId: 'agency-admin',
        position: { x: 2260, y: 520 },
        connections: [{ to: 'agency-payment-day5', type: 'normal' }],
      },
      {
        id: 'agency-payment-day5',
        label: 'Warning: 2 Days to Lockout',
        type: 'notification',
        description: 'Second warning (Day 5)',
        swimlaneId: 'agency-admin',
        position: { x: 2490, y: 520 },
        connections: [{ to: 'agency-payment-day6', type: 'normal' }],
      },
      {
        id: 'agency-payment-day6',
        label: 'Final Warning: 24 Hours',
        type: 'notification',
        description: 'Final warning before lockout',
        swimlaneId: 'agency-admin',
        position: { x: 2720, y: 520 },
        connections: [{ to: 'agency-payment-day7', type: 'error' }],
      },
      {
        id: 'agency-payment-day7',
        label: 'üîí ACCOUNT LOCKED',
        type: 'error',
        description: 'Automatic lockout - limited access',
        swimlaneId: 'agency-admin',
        position: { x: 2950, y: 440 },
        connections: [{ to: 'agency-locked-features', type: 'data' }],
      },
      {
        id: 'agency-locked-features',
        label: 'Locked Features',
        type: 'data',
        description: 'üö´ Cannot deploy caregivers\nüö´ Cannot create packages\nüö´ Cannot access caregiver pool\n‚úÖ Can view jobs (read-only)\n‚úÖ Can make payment',
        swimlaneId: 'agency-admin',
        position: { x: 3180, y: 420 },
        connections: [{ to: 'agency-make-overdue-payment', type: 'normal' }],
      },
      {
        id: 'agency-make-overdue-payment',
        label: 'Pay Overdue Invoice(s)',
        type: 'external',
        description: 'Pay all outstanding invoices to unlock',
        swimlaneId: 'agency-admin',
        position: { x: 3180, y: 500 },
        connections: [{ to: 'agency-unlock', type: 'normal' }],
      },
      {
        id: 'agency-unlock',
        label: '‚úÖ Account Unlocked',
        type: 'process',
        description: 'Auto-unlock within 1 hour of payment',
        swimlaneId: 'agency-admin',
        position: { x: 3180, y: 580 },
      },
    ],
  },

  caregiver: {
    title: 'Caregiver Workflow',
    description: 'Register, get verified, receive assignments, log care activities',
    emoji: 'üë®‚Äç‚öïÔ∏è',
    swimlanes: ['caregiver'],
    steps: [
      {
        id: 'cg-start',
        label: 'START',
        type: 'start',
        swimlaneId: 'caregiver',
        position: { x: 50, y: 80 },
        connections: [{ to: 'cg-register', type: 'normal' }],
      },
      {
        id: 'cg-register',
        label: 'Register',
        type: 'action',
        description: 'Enter personal details and phone verification',
        swimlaneId: 'caregiver',
        position: { x: 220, y: 70 },
        connections: [{ to: 'cg-photo', type: 'normal' }],
      },
      {
        id: 'cg-photo',
        label: 'Upload Photo & NID',
        type: 'action',
        swimlaneId: 'caregiver',
        position: { x: 450, y: 70 },
        connections: [{ to: 'cg-skills', type: 'normal' }],
      },
      {
        id: 'cg-skills',
        label: 'Enter Skills',
        type: 'action',
        description: 'Skills, certifications, experience, languages',
        swimlaneId: 'caregiver',
        position: { x: 680, y: 70 },
        connections: [{ to: 'cg-availability', type: 'normal' }],
      },
      {
        id: 'cg-availability',
        label: 'Set Availability',
        type: 'action',
        swimlaneId: 'caregiver',
        position: { x: 910, y: 70 },
        connections: [{ to: 'cg-submit', type: 'normal' }],
      },
      {
        id: 'cg-submit',
        label: 'Submit for Verification',
        type: 'process',
        swimlaneId: 'caregiver',
        position: { x: 1140, y: 70 },
        connections: [{ to: 'cg-verified', type: 'normal' }],
      },
      {
        id: 'cg-verified',
        label: 'Verified?',
        type: 'decision',
        swimlaneId: 'caregiver',
        position: { x: 1370, y: 60 },
        connections: [
          { to: 'cg-dashboard', label: 'Yes', type: 'normal' },
          { to: 'cg-issues', label: 'No', type: 'conditional' },
        ],
      },
      {
        id: 'cg-issues',
        label: 'View Issues',
        type: 'process',
        swimlaneId: 'caregiver',
        position: { x: 1570, y: 20 },
      },
      {
        id: 'cg-dashboard',
        label: 'Caregiver Dashboard',
        type: 'process',
        swimlaneId: 'caregiver',
        position: { x: 1570, y: 90 },
        connections: [
          { to: 'cg-subscriptions', type: 'normal' },
          { to: 'cg-jobs', type: 'normal' },
          { to: 'cg-checkin', type: 'normal' },
          { to: 'cg-logging', type: 'normal' },
          { to: 'cg-messages', type: 'normal' },
          { to: 'cg-billing', type: 'normal' },
        ],
      },
      {
        id: 'cg-subscriptions',
        label: 'View Subscription Plans',
        type: 'action',
        description: 'Browse caregiver-only subscription packages',
        swimlaneId: 'caregiver',
        position: { x: 1800, y: -60 },
        connections: [{ to: 'cg-sub-select', type: 'normal' }],
      },
      {
        id: 'cg-sub-select',
        label: 'Select Subscription',
        type: 'action',
        description: 'Choose a subscription plan (monthly/yearly)',
        swimlaneId: 'caregiver',
        position: { x: 2030, y: -60 },
        connections: [{ to: 'cg-sub-payment', type: 'normal' }],
      },
      {
        id: 'cg-sub-payment',
        label: 'Subscribe & Pay',
        type: 'external',
        description: 'Complete subscription payment',
        swimlaneId: 'caregiver',
        position: { x: 2260, y: -60 },
        connections: [{ to: 'cg-sub-active', type: 'normal' }],
      },
      {
        id: 'cg-sub-active',
        label: 'Subscription Active',
        type: 'process',
        description: 'Access premium features',
        swimlaneId: 'caregiver',
        position: { x: 2490, y: -60 },
      },
      {
        id: 'cg-jobs',
        label: 'Job Offers & Assignments',
        type: 'action',
        description: 'View job offers from agencies',
        swimlaneId: 'caregiver',
        position: { x: 1800, y: 0 },
        connections: [{ to: 'cg-job-view', type: 'normal' }],
      },
      {
        id: 'cg-job-view',
        label: 'View Job Details',
        type: 'process',
        description: 'Patient needs, schedule, duration (no pricing)',
        swimlaneId: 'caregiver',
        position: { x: 2030, y: 0 },
        connections: [{ to: 'cg-job-decide', type: 'normal' }],
      },
      {
        id: 'cg-job-decide',
        label: 'Accept Job?',
        type: 'decision',
        description: 'Review schedule and requirements',
        swimlaneId: 'caregiver',
        position: { x: 2260, y: -10 },
        connections: [
          { to: 'cg-job-accept', label: 'Accept', type: 'normal' },
          { to: 'cg-job-decline', label: 'Decline', type: 'error' },
        ],
      },
      {
        id: 'cg-job-accept',
        label: 'Accept Job Offer',
        type: 'process',
        description: 'Confirm assignment',
        swimlaneId: 'caregiver',
        position: { x: 2490, y: -20 },
        connections: [{ to: 'cg-job-assigned', type: 'normal' }],
      },
      {
        id: 'cg-job-decline',
        label: 'Decline Job Offer',
        type: 'process',
        description: 'Agency finds another caregiver',
        swimlaneId: 'caregiver',
        position: { x: 2490, y: 10 },
      },
      {
        id: 'cg-job-assigned',
        label: 'Job Assigned',
        type: 'process',
        description: 'Ready to start caring',
        swimlaneId: 'caregiver',
        position: { x: 2720, y: -20 },
      },
      {
        id: 'cg-checkin',
        label: 'Check-In to Job',
        type: 'action',
        description: 'GPS verification and photo check-in',
        swimlaneId: 'caregiver',
        position: { x: 1800, y: 80 },
        connections: [{ to: 'cg-gps-check', type: 'normal' }],
      },
      {
        id: 'cg-gps-check',
        label: 'GPS Valid?',
        type: 'decision',
        swimlaneId: 'caregiver',
        position: { x: 2030, y: 70 },
      },
      {
        id: 'cg-logging',
        label: 'Care Logging',
        type: 'action',
        description: 'Log medications, vitals, activities, incidents',
        swimlaneId: 'caregiver',
        position: { x: 1800, y: 160 },
        connections: [{ to: 'cg-ai-transcribe', type: 'data' }],
      },
      {
        id: 'cg-ai-transcribe',
        label: 'AI Voice Transcription',
        type: 'ai',
        description: 'Convert EN/BN voice notes to text',
        swimlaneId: 'caregiver',
        position: { x: 2050, y: 160 },
      },
      // Messages & Communication Branch
      {
        id: 'cg-messages',
        label: 'Messages & Communication',
        type: 'action',
        description: 'Chat with guardian, patient, and agency',
        swimlaneId: 'caregiver',
        position: { x: 1800, y: 210 },
        connections: [{ to: 'cg-msg-inbox', type: 'normal' }],
      },
      {
        id: 'cg-msg-inbox',
        label: 'Message Inbox',
        type: 'process',
        description: 'View all conversations',
        swimlaneId: 'caregiver',
        position: { x: 2030, y: 210 },
        connections: [
          { to: 'cg-msg-guardian', type: 'normal' },
          { to: 'cg-msg-patient', type: 'normal' },
          { to: 'cg-msg-agency', type: 'normal' },
        ],
      },
      {
        id: 'cg-msg-guardian',
        label: 'Chat with Guardian',
        type: 'action',
        description: 'Communicate with guardian about care',
        swimlaneId: 'caregiver',
        position: { x: 2280, y: 180 },
      },
      {
        id: 'cg-msg-patient',
        label: 'Chat with Patient',
        type: 'action',
        description: 'Direct communication with patient',
        swimlaneId: 'caregiver',
        position: { x: 2280, y: 220 },
      },
      {
        id: 'cg-msg-agency',
        label: 'Contact Agency',
        type: 'action',
        description: 'Message agency about job issues or questions',
        swimlaneId: 'caregiver',
        position: { x: 2280, y: 260 },
      },
      {
        id: 'cg-billing',
        label: 'View My Billing',
        type: 'action',
        description: 'View caregiver billing information',
        swimlaneId: 'caregiver',
        position: { x: 1800, y: 250 },
        connections: [
          { to: 'cg-billing-invoice', type: 'normal' },
          { to: 'cg-generate-agency-invoice', type: 'normal' },
        ],
      },
      // Caregiver ‚Üí Agency Billing
      {
        id: 'cg-generate-agency-invoice',
        label: 'Generate Invoice to Agency',
        type: 'action',
        description: 'Create invoice for completed job work',
        swimlaneId: 'caregiver',
        position: { x: 2030, y: 150 },
        connections: [{ to: 'cg-agency-invoice-details', type: 'normal' }],
      },
      {
        id: 'cg-agency-invoice-details',
        label: 'Job Invoice Details',
        type: 'process',
        description: 'Hours worked, job completion, agreed wage',
        swimlaneId: 'caregiver',
        position: { x: 2260, y: 150 },
        connections: [{ to: 'cg-submit-agency-invoice', type: 'normal' }],
      },
      {
        id: 'cg-submit-agency-invoice',
        label: 'Submit to Agency',
        type: 'process',
        description: 'Send invoice for agency review and payment',
        swimlaneId: 'caregiver',
        position: { x: 2490, y: 150 },
      },
      // Platform ‚Üí Caregiver Billing (Subscription + Commission)
      {
        id: 'cg-billing-invoice',
        label: 'Platform Invoice',
        type: 'process',
        description: 'Subscription + Commission from platform',
        swimlaneId: 'caregiver',
        position: { x: 2030, y: 250 },
        connections: [
          { to: 'cg-billing-sub-fee', type: 'data' },
          { to: 'cg-billing-commission', type: 'data' },
        ],
      },
      {
        id: 'cg-billing-sub-fee',
        label: 'Subscription Fee',
        type: 'data',
        description: 'Monthly/Yearly platform subscription',
        swimlaneId: 'caregiver',
        position: { x: 2260, y: 230 },
      },
      {
        id: 'cg-billing-commission',
        label: 'Platform Commission',
        type: 'data',
        description: 'Commission on jobs via platform',
        swimlaneId: 'caregiver',
        position: { x: 2260, y: 270 },
      },
      {
        id: 'cg-billing-pay',
        label: 'Pay Platform Invoice',
        type: 'external',
        description: 'Payment for subscription + commission',
        swimlaneId: 'caregiver',
        position: { x: 2490, y: 250 },
      },
      // Payment Enforcement & Lockout for Caregiver
      {
        id: 'cg-payment-check',
        label: 'Payment Status Check',
        type: 'decision',
        description: '7-day payment enforcement system',
        swimlaneId: 'caregiver',
        position: { x: 2260, y: 330 },
        connections: [
          { to: 'cg-payment-ok', label: 'Paid on time', type: 'normal' },
          { to: 'cg-payment-day3', label: 'Day 3', type: 'normal' },
          { to: 'cg-payment-day7', label: 'Day 7', type: 'error' },
        ],
      },
      {
        id: 'cg-payment-ok',
        label: 'Account Active',
        type: 'process',
        description: 'Full platform access',
        swimlaneId: 'caregiver',
        position: { x: 2030, y: 390 },
      },
      {
        id: 'cg-payment-day3',
        label: 'Payment Reminder',
        type: 'notification',
        description: 'First reminder sent (Day 3)',
        swimlaneId: 'caregiver',
        position: { x: 2260, y: 410 },
        connections: [{ to: 'cg-payment-day5', type: 'normal' }],
      },
      {
        id: 'cg-payment-day5',
        label: 'Warning: 2 Days to Lockout',
        type: 'notification',
        description: 'Second warning (Day 5)',
        swimlaneId: 'caregiver',
        position: { x: 2490, y: 410 },
        connections: [{ to: 'cg-payment-day6', type: 'normal' }],
      },
      {
        id: 'cg-payment-day6',
        label: 'Final Warning: 24 Hours',
        type: 'notification',
        description: 'Final warning before lockout',
        swimlaneId: 'caregiver',
        position: { x: 2720, y: 410 },
        connections: [{ to: 'cg-payment-day7', type: 'error' }],
      },
      {
        id: 'cg-payment-day7',
        label: 'üîí ACCOUNT LOCKED',
        type: 'error',
        description: 'Automatic lockout - limited access',
        swimlaneId: 'caregiver',
        position: { x: 2950, y: 330 },
        connections: [{ to: 'cg-locked-features', type: 'data' }],
      },
      {
        id: 'cg-locked-features',
        label: 'Locked Features',
        type: 'data',
        description: 'üö´ Cannot accept new jobs\nüö´ Cannot update availability\nüö´ Cannot generate invoices\n‚úÖ Can complete existing jobs\n‚úÖ Can communicate about active jobs\n‚úÖ Can make payment',
        swimlaneId: 'caregiver',
        position: { x: 3180, y: 310 },
        connections: [{ to: 'cg-make-overdue-payment', type: 'normal' }],
      },
      {
        id: 'cg-make-overdue-payment',
        label: 'Pay Overdue Invoice',
        type: 'external',
        description: 'Pay outstanding invoice to unlock',
        swimlaneId: 'caregiver',
        position: { x: 3180, y: 390 },
        connections: [{ to: 'cg-unlock', type: 'normal' }],
      },
      {
        id: 'cg-unlock',
        label: '‚úÖ Account Unlocked',
        type: 'process',
        description: 'Auto-unlock within 1 hour of payment',
        swimlaneId: 'caregiver',
        position: { x: 3180, y: 470 },
      },
    ],
  },

  guardian: {
    title: 'Guardian/User Workflow',
    description: 'Browse agencies, purchase packages, track care, and provide feedback',
    emoji: 'üë§',
    swimlanes: ['guardian'],
    steps: [
      {
        id: 'guard-start',
        label: 'START',
        type: 'start',
        swimlaneId: 'guardian',
        position: { x: 50, y: 80 },
        connections: [{ to: 'guard-account', type: 'normal' }],
      },
      {
        id: 'guard-account',
        label: 'Has Account?',
        type: 'decision',
        swimlaneId: 'guardian',
        position: { x: 220, y: 70 },
        connections: [
          { to: 'guard-login', label: 'Yes', type: 'normal' },
          { to: 'guard-register', label: 'No', type: 'conditional' },
        ],
      },
      {
        id: 'guard-register',
        label: 'Register',
        type: 'action',
        swimlaneId: 'guardian',
        position: { x: 420, y: 20 },
        connections: [{ to: 'guard-dashboard', type: 'normal' }],
      },
      {
        id: 'guard-login',
        label: 'Login',
        type: 'action',
        swimlaneId: 'guardian',
        position: { x: 420, y: 100 },
        connections: [{ to: 'guard-dashboard', type: 'normal' }],
      },
      {
        id: 'guard-dashboard',
        label: 'Guardian Dashboard',
        type: 'process',
        swimlaneId: 'guardian',
        position: { x: 650, y: 80 },
        connections: [
          { to: 'guard-patients', type: 'normal' },
          { to: 'guard-browse', type: 'normal' },
          { to: 'guard-track', type: 'normal' },
          { to: 'guard-messages', type: 'normal' },
          { to: 'guard-billing', type: 'normal' },
        ],
      },
      {
        id: 'guard-patients',
        label: 'Manage Patients',
        type: 'action',
        description: 'Add patient profiles with medical details',
        swimlaneId: 'guardian',
        position: { x: 900, y: 0 },
        connections: [{ to: 'guard-ai-ocr', type: 'data' }],
      },
      {
        id: 'guard-ai-ocr',
        label: 'AI OCR Scan',
        type: 'ai',
        description: 'Extract medication schedule from prescription',
        swimlaneId: 'guardian',
        position: { x: 1150, y: 0 },
      },
      {
        id: 'guard-browse',
        label: 'Browse Agencies',
        type: 'action',
        description: 'Filter by location, rating, specialization',
        swimlaneId: 'guardian',
        position: { x: 900, y: 90 },
        connections: [{ to: 'guard-package', type: 'normal' }],
      },
      {
        id: 'guard-package',
        label: 'Select Package',
        type: 'action',
        description: 'View package details (shows price, not wages)',
        swimlaneId: 'guardian',
        position: { x: 1150, y: 90 },
        connections: [{ to: 'guard-negotiate', type: 'normal' }],
      },
      {
        id: 'guard-negotiate',
        label: 'Negotiate?',
        type: 'decision',
        swimlaneId: 'guardian',
        position: { x: 1380, y: 80 },
        connections: [
          { to: 'guard-counter', label: 'Yes', type: 'conditional' },
          { to: 'guard-checkout', label: 'No', type: 'normal' },
        ],
      },
      {
        id: 'guard-counter',
        label: 'Send Counter-offer',
        type: 'action',
        description: 'Request price discount or package customization',
        swimlaneId: 'guardian',
        position: { x: 1580, y: 30 },
        connections: [{ to: 'guard-wait-response', type: 'normal' }],
      },
      {
        id: 'guard-wait-response',
        label: 'Wait for Agency Response',
        type: 'process',
        description: 'Agency reviews counter-offer',
        swimlaneId: 'guardian',
        position: { x: 1810, y: 30 },
        connections: [{ to: 'guard-review-response', type: 'normal' }],
      },
      {
        id: 'guard-review-response',
        label: 'Review Agency Offer',
        type: 'decision',
        description: 'Accept or reject agency counter-offer',
        swimlaneId: 'guardian',
        position: { x: 2040, y: 20 },
        connections: [
          { to: 'guard-accept-offer', label: 'Accept', type: 'normal' },
          { to: 'guard-counter', label: 'Counter Again', type: 'conditional' },
          { to: 'guard-browse', label: 'Browse Others', type: 'error' },
        ],
      },
      {
        id: 'guard-accept-offer',
        label: 'Accept Final Offer',
        type: 'process',
        description: 'Proceed to checkout with negotiated terms',
        swimlaneId: 'guardian',
        position: { x: 2270, y: 30 },
        connections: [{ to: 'guard-checkout', type: 'normal' }],
      },
      {
        id: 'guard-checkout',
        label: 'Checkout',
        type: 'action',
        description: 'Purchase becomes a Job',
        swimlaneId: 'guardian',
        position: { x: 2270, y: 110 },
        connections: [{ to: 'guard-payment', type: 'normal' }],
      },
      {
        id: 'guard-payment',
        label: 'Payment Gateway',
        type: 'external',
        description: 'bKash/Nagad payment processing',
        swimlaneId: 'guardian',
        position: { x: 1810, y: 100 },
      },
      {
        id: 'guard-track',
        label: 'Track Active Jobs',
        type: 'action',
        description: 'View real-time care logs and caregiver info',
        swimlaneId: 'guardian',
        position: { x: 900, y: 170 },
      },
      // Messages & Communication Branch
      {
        id: 'guard-messages',
        label: 'Messages & Communication',
        type: 'action',
        description: 'Chat with caregiver and agency',
        swimlaneId: 'guardian',
        position: { x: 900, y: 205 },
        connections: [{ to: 'guard-msg-inbox', type: 'normal' }],
      },
      {
        id: 'guard-msg-inbox',
        label: 'Message Inbox',
        type: 'process',
        description: 'View all conversations',
        swimlaneId: 'guardian',
        position: { x: 1150, y: 205 },
        connections: [
          { to: 'guard-msg-caregiver', type: 'normal' },
          { to: 'guard-msg-agency', type: 'normal' },
          { to: 'guard-msg-support', type: 'normal' },
        ],
      },
      {
        id: 'guard-msg-caregiver',
        label: 'Chat with Caregiver',
        type: 'action',
        description: 'Direct messaging with assigned caregiver',
        swimlaneId: 'guardian',
        position: { x: 1400, y: 175 },
      },
      {
        id: 'guard-msg-agency',
        label: 'Chat with Agency',
        type: 'action',
        description: 'Communicate about package or service issues',
        swimlaneId: 'guardian',
        position: { x: 1400, y: 215 },
      },
      {
        id: 'guard-msg-support',
        label: 'Contact Support',
        type: 'action',
        description: 'Message moderators/admin for help',
        swimlaneId: 'guardian',
        position: { x: 1400, y: 255 },
      },
      // Guardian Billing - Receives invoices from Agency and pays Platform
      {
        id: 'guard-billing',
        label: 'View Billing',
        type: 'action',
        description: 'Manage invoices and payments',
        swimlaneId: 'guardian',
        position: { x: 900, y: 240 },
        connections: [
          { to: 'guard-agency-invoices', type: 'normal' },
          { to: 'guard-platform-invoice', type: 'normal' },
        ],
      },
      // Agency ‚Üí Guardian Invoices
      {
        id: 'guard-agency-invoices',
        label: 'Agency Service Invoices',
        type: 'action',
        description: 'View invoices from agencies for services',
        swimlaneId: 'guardian',
        position: { x: 1150, y: 200 },
        connections: [{ to: 'guard-review-agency-invoice', type: 'normal' }],
      },
      {
        id: 'guard-review-agency-invoice',
        label: 'Review Invoice',
        type: 'process',
        description: 'Package price, service details, duration',
        swimlaneId: 'guardian',
        position: { x: 1400, y: 200 },
        connections: [{ to: 'guard-pay-agency', type: 'normal' }],
      },
      {
        id: 'guard-pay-agency',
        label: 'Pay Agency',
        type: 'external',
        description: 'Payment via bKash/Nagad',
        swimlaneId: 'guardian',
        position: { x: 1650, y: 200 },
      },
      // Platform ‚Üí Guardian Invoice (if subscription applicable)
      {
        id: 'guard-platform-invoice',
        label: 'Platform Subscription Invoice',
        type: 'action',
        description: 'Platform subscription fee (if applicable)',
        swimlaneId: 'guardian',
        position: { x: 1150, y: 280 },
        connections: [{ to: 'guard-platform-sub-details', type: 'normal' }],
      },
      {
        id: 'guard-platform-sub-details',
        label: 'Subscription Details',
        type: 'process',
        description: 'Monthly/Yearly subscription fee',
        swimlaneId: 'guardian',
        position: { x: 1400, y: 280 },
        connections: [{ to: 'guard-pay-platform', type: 'normal' }],
      },
      {
        id: 'guard-pay-platform',
        label: 'Pay Platform',
        type: 'external',
        description: 'Payment for platform subscription',
        swimlaneId: 'guardian',
        position: { x: 1650, y: 280 },
      },
      // Payment Enforcement & Lockout for Guardian
      {
        id: 'guard-payment-check',
        label: 'Payment Status Check',
        type: 'decision',
        description: '7-day payment enforcement system',
        swimlaneId: 'guardian',
        position: { x: 1400, y: 360 },
        connections: [
          { to: 'guard-payment-ok', label: 'Paid on time', type: 'normal' },
          { to: 'guard-payment-day3', label: 'Day 3', type: 'normal' },
          { to: 'guard-payment-day7', label: 'Day 7', type: 'error' },
        ],
      },
      {
        id: 'guard-payment-ok',
        label: 'Account Active',
        type: 'process',
        description: 'Full platform access',
        swimlaneId: 'guardian',
        position: { x: 1150, y: 420 },
      },
      {
        id: 'guard-payment-day3',
        label: 'Payment Reminder',
        type: 'notification',
        description: 'First reminder sent (Day 3)',
        swimlaneId: 'guardian',
        position: { x: 1400, y: 440 },
        connections: [{ to: 'guard-payment-day5', type: 'normal' }],
      },
      {
        id: 'guard-payment-day5',
        label: 'Warning: 2 Days to Lockout',
        type: 'notification',
        description: 'Second warning (Day 5)',
        swimlaneId: 'guardian',
        position: { x: 1650, y: 440 },
        connections: [{ to: 'guard-payment-day6', type: 'normal' }],
      },
      {
        id: 'guard-payment-day6',
        label: 'Final Warning: 24 Hours',
        type: 'notification',
        description: 'Final warning before lockout',
        swimlaneId: 'guardian',
        position: { x: 1900, y: 440 },
        connections: [{ to: 'guard-payment-day7', type: 'error' }],
      },
      {
        id: 'guard-payment-day7',
        label: 'üîí ACCOUNT LOCKED',
        type: 'error',
        description: 'Automatic lockout - limited access',
        swimlaneId: 'guardian',
        position: { x: 2150, y: 360 },
        connections: [{ to: 'guard-locked-features', type: 'data' }],
      },
      {
        id: 'guard-locked-features',
        label: 'Locked Features',
        type: 'data',
        description: 'üö´ Cannot purchase packages\nüö´ Cannot send counter-offers\nüö´ Cannot browse new agencies\n‚úÖ Can view jobs (read-only)\n‚úÖ Can communicate with assigned caregiver\n‚úÖ Can make payment',
        swimlaneId: 'guardian',
        position: { x: 2400, y: 340 },
        connections: [{ to: 'guard-make-overdue-payment', type: 'normal' }],
      },
      {
        id: 'guard-make-overdue-payment',
        label: 'Pay Overdue Invoice(s)',
        type: 'external',
        description: 'Pay all outstanding invoices to unlock',
        swimlaneId: 'guardian',
        position: { x: 2400, y: 420 },
        connections: [{ to: 'guard-unlock', type: 'normal' }],
      },
      {
        id: 'guard-unlock',
        label: '‚úÖ Account Unlocked',
        type: 'process',
        description: 'Auto-unlock within 1 hour of payment',
        swimlaneId: 'guardian',
        position: { x: 2400, y: 500 },
      },
    ],
  },

  payment: {
    title: 'Payment & Escrow Flow',
    description: 'Guardian payments, escrow management, and fund releases',
    emoji: 'üí∞',
    swimlanes: ['guardian', 'agency-admin', 'moderator'],
    steps: [
      {
        id: 'pay-start',
        label: 'Select Package',
        type: 'start',
        swimlaneId: 'guardian',
        position: { x: 50, y: 80 },
        connections: [{ to: 'pay-checkout', type: 'normal' }],
      },
      {
        id: 'pay-checkout',
        label: 'Proceed to Checkout',
        type: 'action',
        swimlaneId: 'guardian',
        position: { x: 250, y: 70 },
        connections: [{ to: 'pay-method', type: 'normal' }],
      },
      {
        id: 'pay-method',
        label: 'Select Payment Method',
        type: 'action',
        description: 'Choose bKash or Nagad',
        swimlaneId: 'guardian',
        position: { x: 500, y: 70 },
        connections: [{ to: 'pay-gateway', type: 'normal' }],
      },
      {
        id: 'pay-gateway',
        label: 'Payment Gateway',
        type: 'external',
        description: 'Redirect to bKash/Nagad API',
        swimlaneId: 'guardian',
        position: { x: 750, y: 70 },
        connections: [{ to: 'pay-success', type: 'normal' }],
      },
      {
        id: 'pay-success',
        label: 'Payment Success?',
        type: 'decision',
        swimlaneId: 'guardian',
        position: { x: 1000, y: 60 },
        connections: [
          { to: 'pay-log-success', label: 'Yes', type: 'normal' },
          { to: 'pay-log-failed', label: 'No', type: 'error' },
        ],
      },
      {
        id: 'pay-log-success',
        label: 'üìã payment_success',
        type: 'log',
        description: 'LOG: Payment processed successfully',
        swimlaneId: 'guardian',
        position: { x: 1150, y: 130 },
        connections: [{ to: 'pay-escrow', type: 'logging' }],
      },
      {
        id: 'pay-log-failed',
        label: 'üìã payment_failed',
        type: 'log',
        description: 'LOG: Payment processing failed',
        swimlaneId: 'guardian',
        position: { x: 1150, y: 0 },
        connections: [{ to: 'pay-failed', type: 'logging' }],
      },
      {
        id: 'pay-failed',
        label: 'Show Error',
        type: 'error',
        swimlaneId: 'guardian',
        position: { x: 1300, y: 0 },
      },
      {
        id: 'pay-escrow',
        label: 'Funds ‚Üí ESCROW',
        type: 'process',
        description: 'Payment held securely until job completion',
        swimlaneId: 'guardian',
        position: { x: 1300, y: 130 },
        connections: [
          { to: 'pay-log-escrow', type: 'logging' },
          { to: 'pay-notify-agency', type: 'cross-swimlane' },
        ],
      },
      {
        id: 'pay-log-escrow',
        label: 'üìã escrow_hold',
        type: 'log',
        description: 'LOG: Funds placed in escrow',
        swimlaneId: 'guardian',
        position: { x: 1450, y: 180 },
      },
      {
        id: 'pay-notify-agency',
        label: 'Job Created',
        type: 'process',
        swimlaneId: 'agency-admin',
        position: { x: 1450, y: 80 },
        connections: [{ to: 'pay-complete', type: 'normal' }],
      },
      {
        id: 'pay-complete',
        label: 'Job Completed',
        type: 'process',
        swimlaneId: 'agency-admin',
        position: { x: 1700, y: 80 },
        connections: [{ to: 'pay-timer', type: 'normal' }],
      },
      {
        id: 'pay-timer',
        label: '48hr Timer',
        type: 'process',
        description: 'Grace period for disputes',
        swimlaneId: 'moderator',
        position: { x: 1950, y: 80 },
        connections: [{ to: 'pay-dispute-check', type: 'normal' }],
      },
      {
        id: 'pay-dispute-check',
        label: 'Dispute Filed?',
        type: 'decision',
        swimlaneId: 'moderator',
        position: { x: 2200, y: 70 },
        connections: [
          { to: 'pay-freeze', label: 'Yes', type: 'conditional' },
          { to: 'pay-release', label: 'No', type: 'normal' },
        ],
      },
      {
        id: 'pay-freeze',
        label: 'FREEZE Escrow',
        type: 'process',
        swimlaneId: 'moderator',
        position: { x: 2400, y: 20 },
        connections: [{ to: 'pay-log-freeze', type: 'logging' }],
      },
      {
        id: 'pay-log-freeze',
        label: 'üìã escrow_freeze',
        type: 'log',
        description: 'LOG: Escrow frozen due to dispute',
        swimlaneId: 'moderator',
        position: { x: 2550, y: 20 },
      },
      {
        id: 'pay-release',
        label: 'Release to Agency',
        type: 'process',
        description: 'Transfer funds minus platform commission',
        swimlaneId: 'agency-admin',
        position: { x: 2400, y: 100 },
        connections: [{ to: 'pay-log-release', type: 'logging' }],
      },
      {
        id: 'pay-log-release',
        label: 'üìã escrow_release',
        type: 'log',
        description: 'LOG: Funds released from escrow',
        swimlaneId: 'agency-admin',
        position: { x: 2550, y: 100 },
      },
    ],
  },

  ai: {
    title: 'AI Integration Points',
    description: 'Navigation assistant, transcription, and OCR scanning',
    emoji: 'ü§ñ',
    swimlanes: ['caregiver', 'guardian'],
    steps: [
      {
        id: 'ai-nav-start',
        label: 'User Question',
        type: 'action',
        swimlaneId: 'caregiver',
        position: { x: 50, y: 40 },
        connections: [{ to: 'ai-nav-agent', type: 'data' }],
      },
      {
        id: 'ai-nav-agent',
        label: 'Navigation Agent',
        type: 'ai',
        description: 'Process natural language and identify intent',
        swimlaneId: 'caregiver',
        position: { x: 280, y: 30 },
        connections: [{ to: 'ai-nav-response', type: 'normal' }],
      },
      {
        id: 'ai-nav-response',
        label: 'Provide Response',
        type: 'process',
        swimlaneId: 'caregiver',
        position: { x: 510, y: 40 },
      },
      {
        id: 'ai-voice-start',
        label: 'Record Voice Note',
        type: 'action',
        swimlaneId: 'caregiver',
        position: { x: 50, y: 150 },
        connections: [{ to: 'ai-voice-agent', type: 'data' }],
      },
      {
        id: 'ai-voice-agent',
        label: 'Transcription Agent',
        type: 'ai',
        description: 'Convert speech to text (EN/BN)',
        swimlaneId: 'caregiver',
        position: { x: 280, y: 140 },
        connections: [{ to: 'ai-voice-save', type: 'normal' }],
      },
      {
        id: 'ai-voice-save',
        label: 'Save to Care Log',
        type: 'process',
        swimlaneId: 'caregiver',
        position: { x: 510, y: 150 },
      },
      {
        id: 'ai-ocr-start',
        label: 'Upload Prescription',
        type: 'action',
        swimlaneId: 'guardian',
        position: { x: 800, y: 40 },
        connections: [{ to: 'ai-ocr-agent', type: 'data' }],
      },
      {
        id: 'ai-ocr-agent',
        label: 'OCR Agent',
        type: 'ai',
        description: 'Extract medication details from image',
        swimlaneId: 'guardian',
        position: { x: 1030, y: 30 },
        connections: [{ to: 'ai-ocr-parse', type: 'normal' }],
      },
      {
        id: 'ai-ocr-parse',
        label: 'Parse Medications',
        type: 'process',
        description: 'Generate structured checklist',
        swimlaneId: 'guardian',
        position: { x: 1260, y: 40 },
        connections: [{ to: 'ai-ocr-confirm', type: 'normal' }],
      },
      {
        id: 'ai-ocr-confirm',
        label: 'User Reviews',
        type: 'action',
        swimlaneId: 'guardian',
        position: { x: 1490, y: 40 },
      },
    ],
  },

  shop: {
    title: 'Shop Admin Workflow',
    description: 'Register shop, manage products, process orders',
    emoji: 'üè™',
    swimlanes: ['shop-admin'],
    steps: [
      {
        id: 'shop-start',
        label: 'START',
        type: 'start',
        swimlaneId: 'shop-admin',
        position: { x: 50, y: 80 },
        connections: [{ to: 'shop-register', type: 'normal' }],
      },
      {
        id: 'shop-register',
        label: 'Register Shop',
        type: 'action',
        description: 'Fill shop details and upload documents',
        swimlaneId: 'shop-admin',
        position: { x: 250, y: 70 },
        connections: [{ to: 'shop-submit', type: 'normal' }],
      },
      {
        id: 'shop-submit',
        label: 'Submit for Verification',
        type: 'process',
        swimlaneId: 'shop-admin',
        position: { x: 500, y: 70 },
        connections: [{ to: 'shop-approved', type: 'normal' }],
      },
      {
        id: 'shop-approved',
        label: 'Approved?',
        type: 'decision',
        swimlaneId: 'shop-admin',
        position: { x: 750, y: 60 },
        connections: [
          { to: 'shop-dashboard', label: 'Yes', type: 'normal' },
        ],
      },
      {
        id: 'shop-dashboard',
        label: 'Shop Dashboard',
        type: 'process',
        swimlaneId: 'shop-admin',
        position: { x: 1000, y: 80 },
        connections: [
          { to: 'shop-products', type: 'normal' },
          { to: 'shop-orders', type: 'normal' },
          { to: 'shop-messages', type: 'normal' },
        ],
      },
      {
        id: 'shop-products',
        label: 'Product Management',
        type: 'action',
        description: 'Add medicines, equipment, and services',
        swimlaneId: 'shop-admin',
        position: { x: 1250, y: 30 },
      },
      {
        id: 'shop-orders',
        label: 'Order Management',
        type: 'action',
        description: 'Process incoming orders and track delivery',
        swimlaneId: 'shop-admin',
        position: { x: 1250, y: 120 },
        connections: [{ to: 'shop-billing', type: 'normal' }],
      },
      // Messages & Communication Branch
      {
        id: 'shop-messages',
        label: 'Customer Communication',
        type: 'action',
        description: 'Chat with customers and support',
        swimlaneId: 'shop-admin',
        position: { x: 1250, y: 75 },
        connections: [{ to: 'shop-msg-inbox', type: 'normal' }],
      },
      {
        id: 'shop-msg-inbox',
        label: 'Message Inbox',
        type: 'process',
        description: 'View all customer inquiries',
        swimlaneId: 'shop-admin',
        position: { x: 1500, y: 75 },
        connections: [
          { to: 'shop-msg-customers', type: 'normal' },
          { to: 'shop-msg-support', type: 'normal' },
        ],
      },
      {
        id: 'shop-msg-customers',
        label: 'Chat with Customers',
        type: 'action',
        description: 'Answer questions about products and orders',
        swimlaneId: 'shop-admin',
        position: { x: 1750, y: 55 },
      },
      {
        id: 'shop-msg-support',
        label: 'Contact Platform Support',
        type: 'action',
        description: 'Message moderators/admin for help',
        swimlaneId: 'shop-admin',
        position: { x: 1750, y: 95 },
      },
      // Shop Billing & Payment Enforcement
      {
        id: 'shop-billing',
        label: 'View Billing',
        type: 'action',
        description: 'Manage platform subscription and commissions',
        swimlaneId: 'shop-admin',
        position: { x: 1500, y: 80 },
        connections: [{ to: 'shop-platform-invoice', type: 'normal' }],
      },
      {
        id: 'shop-platform-invoice',
        label: 'Platform Invoice',
        type: 'process',
        description: 'Subscription + Commission fees',
        swimlaneId: 'shop-admin',
        position: { x: 1750, y: 80 },
        connections: [{ to: 'shop-pay-platform', type: 'normal' }],
      },
      {
        id: 'shop-pay-platform',
        label: 'Pay Platform Invoice',
        type: 'external',
        description: 'Payment for subscription + commission',
        swimlaneId: 'shop-admin',
        position: { x: 2000, y: 80 },
      },
      // Payment Enforcement & Lockout for Shop
      {
        id: 'shop-payment-check',
        label: 'Payment Status Check',
        type: 'decision',
        description: '7-day payment enforcement system',
        swimlaneId: 'shop-admin',
        position: { x: 1750, y: 160 },
        connections: [
          { to: 'shop-payment-ok', label: 'Paid on time', type: 'normal' },
          { to: 'shop-payment-day3', label: 'Day 3', type: 'normal' },
          { to: 'shop-payment-day7', label: 'Day 7', type: 'error' },
        ],
      },
      {
        id: 'shop-payment-ok',
        label: 'Account Active',
        type: 'process',
        description: 'Full platform access',
        swimlaneId: 'shop-admin',
        position: { x: 1500, y: 220 },
      },
      {
        id: 'shop-payment-day3',
        label: 'Payment Reminder',
        type: 'notification',
        description: 'First reminder sent (Day 3)',
        swimlaneId: 'shop-admin',
        position: { x: 1750, y: 240 },
        connections: [{ to: 'shop-payment-day5', type: 'normal' }],
      },
      {
        id: 'shop-payment-day5',
        label: 'Warning: 2 Days to Lockout',
        type: 'notification',
        description: 'Second warning (Day 5)',
        swimlaneId: 'shop-admin',
        position: { x: 2000, y: 240 },
        connections: [{ to: 'shop-payment-day6', type: 'normal' }],
      },
      {
        id: 'shop-payment-day6',
        label: 'Final Warning: 24 Hours',
        type: 'notification',
        description: 'Final warning before lockout',
        swimlaneId: 'shop-admin',
        position: { x: 2250, y: 240 },
        connections: [{ to: 'shop-payment-day7', type: 'error' }],
      },
      {
        id: 'shop-payment-day7',
        label: 'üîí ACCOUNT LOCKED',
        type: 'error',
        description: 'Automatic lockout - limited access',
        swimlaneId: 'shop-admin',
        position: { x: 2500, y: 160 },
        connections: [{ to: 'shop-locked-features', type: 'data' }],
      },
      {
        id: 'shop-locked-features',
        label: 'Locked Features',
        type: 'data',
        description: 'üö´ Cannot list new products\nüö´ Cannot process new orders\nüö´ Cannot update listings\n‚úÖ Can fulfill existing orders\n‚úÖ Can make payment',
        swimlaneId: 'shop-admin',
        position: { x: 2750, y: 140 },
        connections: [{ to: 'shop-make-overdue-payment', type: 'normal' }],
      },
      {
        id: 'shop-make-overdue-payment',
        label: 'Pay Overdue Invoice',
        type: 'external',
        description: 'Pay outstanding invoice to unlock',
        swimlaneId: 'shop-admin',
        position: { x: 2750, y: 220 },
        connections: [{ to: 'shop-unlock', type: 'normal' }],
      },
      {
        id: 'shop-unlock',
        label: '‚úÖ Account Unlocked',
        type: 'process',
        description: 'Auto-unlock within 1 hour of payment',
        swimlaneId: 'shop-admin',
        position: { x: 2750, y: 300 },
      },
    ],
  },
  
  // Patient Workflow
  patient: {
    title: 'Patient Workflow',
    description: 'View care information, assigned caregiver, medications, and schedule',
    emoji: 'ü§í',
    swimlanes: ['patient'],
    steps: [
      {
        id: 'patient-start',
        label: 'START',
        type: 'start',
        swimlaneId: 'patient',
        position: { x: 50, y: 80 },
        connections: [{ to: 'patient-login', type: 'normal' }],
      },
      {
        id: 'patient-login',
        label: 'Login',
        type: 'action',
        description: 'Secure patient authentication',
        swimlaneId: 'patient',
        position: { x: 250, y: 80 },
        connections: [{ to: 'patient-dashboard', type: 'normal' }],
      },
      {
        id: 'patient-dashboard',
        label: 'Patient Dashboard',
        type: 'process',
        description: 'Overview of care and health information',
        swimlaneId: 'patient',
        position: { x: 450, y: 80 },
        connections: [
          { to: 'patient-view-caregiver', type: 'normal' },
          { to: 'patient-medications', type: 'normal' },
          { to: 'patient-care-logs', type: 'normal' },
          { to: 'patient-appointments', type: 'normal' },
          { to: 'patient-emergency', type: 'normal' },
          { to: 'patient-feedback', type: 'normal' },
        ],
      },
      // View Assigned Caregiver
      {
        id: 'patient-view-caregiver',
        label: 'View Assigned Caregiver',
        type: 'action',
        description: 'See caregiver profile and contact info',
        swimlaneId: 'patient',
        position: { x: 700, y: 0 },
        connections: [{ to: 'patient-caregiver-profile', type: 'data' }],
      },
      {
        id: 'patient-caregiver-profile',
        label: 'Caregiver Profile',
        type: 'data',
        description: 'Name, photo, certifications, experience',
        swimlaneId: 'patient',
        position: { x: 950, y: 0 },
        connections: [{ to: 'patient-chat-caregiver', type: 'normal' }],
      },
      {
        id: 'patient-chat-caregiver',
        label: 'Chat with Caregiver',
        type: 'action',
        description: 'Direct messaging with assigned caregiver',
        swimlaneId: 'patient',
        position: { x: 1200, y: 0 },
      },
      // Medications Schedule
      {
        id: 'patient-medications',
        label: 'View Medication Schedule',
        type: 'action',
        description: 'Daily medication plan and reminders',
        swimlaneId: 'patient',
        position: { x: 700, y: 60 },
        connections: [{ to: 'patient-med-list', type: 'data' }],
      },
      {
        id: 'patient-med-list',
        label: 'Medication List',
        type: 'data',
        description: 'Medications, dosage, timing, instructions',
        swimlaneId: 'patient',
        position: { x: 950, y: 60 },
        connections: [{ to: 'patient-med-reminders', type: 'normal' }],
      },
      {
        id: 'patient-med-reminders',
        label: 'Medication Reminders',
        type: 'notification',
        description: 'Automatic reminders for medication times',
        swimlaneId: 'patient',
        position: { x: 1200, y: 60 },
      },
      // Care Logs & Activities
      {
        id: 'patient-care-logs',
        label: 'View Care Logs',
        type: 'action',
        description: 'Daily activities and care provided',
        swimlaneId: 'patient',
        position: { x: 700, y: 120 },
        connections: [{ to: 'patient-logs-display', type: 'data' }],
      },
      {
        id: 'patient-logs-display',
        label: 'Care Activity Log',
        type: 'data',
        description: 'Meals, exercises, vitals, notes from caregiver',
        swimlaneId: 'patient',
        position: { x: 950, y: 120 },
      },
      // Appointments & Schedule
      {
        id: 'patient-appointments',
        label: 'View Appointments',
        type: 'action',
        description: 'Upcoming doctor visits, therapy sessions',
        swimlaneId: 'patient',
        position: { x: 700, y: 180 },
        connections: [{ to: 'patient-schedule', type: 'data' }],
      },
      {
        id: 'patient-schedule',
        label: 'Daily Schedule',
        type: 'data',
        description: 'Appointments, activities, caregiver visits',
        swimlaneId: 'patient',
        position: { x: 950, y: 180 },
      },
      // Emergency Contact
      {
        id: 'patient-emergency',
        label: 'Emergency Contacts',
        type: 'action',
        description: 'Quick access to emergency numbers',
        swimlaneId: 'patient',
        position: { x: 700, y: 240 },
        connections: [{ to: 'patient-emergency-list', type: 'data' }],
      },
      {
        id: 'patient-emergency-list',
        label: 'Emergency Contact List',
        type: 'data',
        description: 'Guardian, doctor, hospital, emergency services',
        swimlaneId: 'patient',
        position: { x: 950, y: 240 },
        connections: [{ to: 'patient-call-emergency', type: 'normal' }],
      },
      {
        id: 'patient-call-emergency',
        label: 'Call Emergency Contact',
        type: 'external',
        description: 'One-tap emergency calling',
        swimlaneId: 'patient',
        position: { x: 1200, y: 240 },
      },
      // Feedback & Ratings
      {
        id: 'patient-feedback',
        label: 'Rate Caregiver Service',
        type: 'action',
        description: 'Provide feedback on care quality',
        swimlaneId: 'patient',
        position: { x: 700, y: 300 },
        connections: [{ to: 'patient-rating', type: 'normal' }],
      },
      {
        id: 'patient-rating',
        label: 'Submit Rating & Review',
        type: 'process',
        description: 'Rate quality of care and service',
        swimlaneId: 'patient',
        position: { x: 950, y: 300 },
        connections: [{ to: 'patient-rating-confirm', type: 'normal' }],
      },
      {
        id: 'patient-rating-confirm',
        label: 'Feedback Submitted',
        type: 'process',
        description: 'Thank you for your feedback',
        swimlaneId: 'patient',
        position: { x: 1200, y: 300 },
      },
    ],
  },
  
  // Agency Manager Workflow
  'agency-manager': {
    title: 'Agency Manager Workflow',
    description: 'Quality assurance, reporting, and limited agency operations (delegated role)',
    emoji: 'üëî',
    swimlanes: ['agency-manager'],
    steps: [
      {
        id: 'agency-mgr-start',
        label: 'START',
        type: 'start',
        swimlaneId: 'agency-manager',
        position: { x: 50, y: 80 },
        connections: [{ to: 'agency-mgr-login', type: 'normal' }],
      },
      {
        id: 'agency-mgr-login',
        label: 'Login',
        type: 'action',
        description: 'Manager authentication',
        swimlaneId: 'agency-manager',
        position: { x: 250, y: 80 },
        connections: [{ to: 'agency-mgr-dashboard', type: 'normal' }],
      },
      {
        id: 'agency-mgr-dashboard',
        label: 'Manager Dashboard',
        type: 'process',
        description: 'Limited access - QA and reporting focus',
        swimlaneId: 'agency-manager',
        position: { x: 450, y: 80 },
        connections: [
          { to: 'agency-mgr-qa', type: 'normal' },
          { to: 'agency-mgr-feedback', type: 'normal' },
          { to: 'agency-mgr-view-assignments', type: 'normal' },
          { to: 'agency-mgr-reports', type: 'normal' },
          { to: 'agency-mgr-messages', type: 'normal' },
        ],
      },
      // QA Dashboard
      {
        id: 'agency-mgr-qa',
        label: 'QA Dashboard',
        type: 'action',
        description: 'Quality assurance metrics and monitoring',
        swimlaneId: 'agency-manager',
        position: { x: 700, y: 0 },
        connections: [{ to: 'agency-mgr-qa-metrics', type: 'data' }],
      },
      {
        id: 'agency-mgr-qa-metrics',
        label: 'Quality Metrics',
        type: 'data',
        description: 'Caregiver ratings, guardian satisfaction, incident reports',
        swimlaneId: 'agency-manager',
        position: { x: 950, y: 0 },
        connections: [
          { to: 'agency-mgr-qa-alerts', type: 'normal' },
        ],
      },
      {
        id: 'agency-mgr-qa-alerts',
        label: 'Quality Alerts',
        type: 'notification',
        description: 'Notifications for low ratings or issues',
        swimlaneId: 'agency-manager',
        position: { x: 1200, y: 0 },
        connections: [{ to: 'agency-mgr-qa-report', type: 'normal' }],
      },
      {
        id: 'agency-mgr-qa-report',
        label: 'Submit QA Report to Admin',
        type: 'process',
        description: 'Report quality issues to Agency Admin',
        swimlaneId: 'agency-manager',
        position: { x: 1450, y: 0 },
      },
      // Respond to Guardian Feedback
      {
        id: 'agency-mgr-feedback',
        label: 'Guardian Feedback Queue',
        type: 'action',
        description: 'View and respond to guardian reviews',
        swimlaneId: 'agency-manager',
        position: { x: 700, y: 70 },
        connections: [{ to: 'agency-mgr-review-list', type: 'data' }],
      },
      {
        id: 'agency-mgr-review-list',
        label: 'Feedback List',
        type: 'data',
        description: 'All guardian feedback and ratings',
        swimlaneId: 'agency-manager',
        position: { x: 950, y: 70 },
        connections: [{ to: 'agency-mgr-respond', type: 'normal' }],
      },
      {
        id: 'agency-mgr-respond',
        label: 'Respond to Feedback',
        type: 'action',
        description: 'Thank guardians or address concerns',
        swimlaneId: 'agency-manager',
        position: { x: 1200, y: 70 },
        connections: [{ to: 'agency-mgr-response-sent', type: 'normal' }],
      },
      {
        id: 'agency-mgr-response-sent',
        label: 'Response Sent',
        type: 'process',
        description: 'Guardian notified of response',
        swimlaneId: 'agency-manager',
        position: { x: 1450, y: 70 },
      },
      // View Assignments (Read-Only)
      {
        id: 'agency-mgr-view-assignments',
        label: 'View Caregiver Assignments',
        type: 'action',
        description: 'Read-only view of all deployments',
        swimlaneId: 'agency-manager',
        position: { x: 700, y: 140 },
        connections: [{ to: 'agency-mgr-assignment-list', type: 'data' }],
      },
      {
        id: 'agency-mgr-assignment-list',
        label: 'Assignment List',
        type: 'data',
        description: 'Caregiver ‚Üí Guardian assignments (view only)',
        swimlaneId: 'agency-manager',
        position: { x: 950, y: 140 },
        connections: [{ to: 'agency-mgr-assignment-details', type: 'normal' }],
      },
      {
        id: 'agency-mgr-assignment-details',
        label: 'View Assignment Details',
        type: 'action',
        description: 'Cannot edit - information only',
        swimlaneId: 'agency-manager',
        position: { x: 1200, y: 140 },
      },
      // Generate Reports
      {
        id: 'agency-mgr-reports',
        label: 'Generate Reports',
        type: 'action',
        description: 'Create performance and activity reports',
        swimlaneId: 'agency-manager',
        position: { x: 700, y: 210 },
        connections: [{ to: 'agency-mgr-report-type', type: 'decision' }],
      },
      {
        id: 'agency-mgr-report-type',
        label: 'Select Report Type',
        type: 'decision',
        swimlaneId: 'agency-manager',
        position: { x: 950, y: 200 },
        connections: [
          { to: 'agency-mgr-performance-report', label: 'Performance', type: 'normal' },
          { to: 'agency-mgr-activity-report', label: 'Activity', type: 'normal' },
          { to: 'agency-mgr-quality-report', label: 'Quality', type: 'normal' },
        ],
      },
      {
        id: 'agency-mgr-performance-report',
        label: 'Caregiver Performance Report',
        type: 'process',
        description: 'Individual caregiver metrics',
        swimlaneId: 'agency-manager',
        position: { x: 1200, y: 170 },
        connections: [{ to: 'agency-mgr-export', type: 'normal' }],
      },
      {
        id: 'agency-mgr-activity-report',
        label: 'Activity Report',
        type: 'process',
        description: 'Job completion, hours worked',
        swimlaneId: 'agency-manager',
        position: { x: 1200, y: 210 },
        connections: [{ to: 'agency-mgr-export', type: 'normal' }],
      },
      {
        id: 'agency-mgr-quality-report',
        label: 'Quality Assurance Report',
        type: 'process',
        description: 'Overall quality metrics',
        swimlaneId: 'agency-manager',
        position: { x: 1200, y: 250 },
        connections: [{ to: 'agency-mgr-export', type: 'normal' }],
      },
      {
        id: 'agency-mgr-export',
        label: 'Export Report',
        type: 'external',
        description: 'Download as PDF/CSV',
        swimlaneId: 'agency-manager',
        position: { x: 1450, y: 210 },
      },
      // Messages & Communication Branch
      {
        id: 'agency-mgr-messages',
        label: 'Communication',
        type: 'action',
        description: 'Message Agency Admin',
        swimlaneId: 'agency-manager',
        position: { x: 700, y: 270 },
        connections: [{ to: 'agency-mgr-msg-admin', type: 'normal' }],
      },
      {
        id: 'agency-mgr-msg-admin',
        label: 'Chat with Agency Admin',
        type: 'action',
        description: 'Report issues, ask questions, escalate problems',
        swimlaneId: 'agency-manager',
        position: { x: 950, y: 270 },
      },
      // Permissions Notice
      {
        id: 'agency-mgr-restrictions',
        label: 'Manager Restrictions',
        type: 'data',
        description: 'üö´ Cannot create packages\nüö´ Cannot deploy caregivers\nüö´ Cannot manage billing\nüö´ Cannot access caregiver pool\n‚úÖ Can view QA metrics\n‚úÖ Can respond to feedback\n‚úÖ Can generate reports',
        swimlaneId: 'agency-manager',
        position: { x: 700, y: 300 },
      },
    ],
  },
  
  // Shop Manager Workflow
  'shop-manager': {
    title: 'Shop Manager Workflow',
    description: 'Process orders, manage inventory, customer service (delegated role)',
    emoji: 'üì¶',
    swimlanes: ['shop-manager'],
    steps: [
      {
        id: 'shop-mgr-start',
        label: 'START',
        type: 'start',
        swimlaneId: 'shop-manager',
        position: { x: 50, y: 80 },
        connections: [{ to: 'shop-mgr-login', type: 'normal' }],
      },
      {
        id: 'shop-mgr-login',
        label: 'Login',
        type: 'action',
        description: 'Manager authentication',
        swimlaneId: 'shop-manager',
        position: { x: 250, y: 80 },
        connections: [{ to: 'shop-mgr-dashboard', type: 'normal' }],
      },
      {
        id: 'shop-mgr-dashboard',
        label: 'Manager Dashboard',
        type: 'process',
        description: 'Limited access - operations focus',
        swimlaneId: 'shop-manager',
        position: { x: 450, y: 80 },
        connections: [
          { to: 'shop-mgr-orders', type: 'normal' },
          { to: 'shop-mgr-inventory', type: 'normal' },
          { to: 'shop-mgr-customers', type: 'normal' },
          { to: 'shop-mgr-messages', type: 'normal' },
        ],
      },
      // Process Orders
      {
        id: 'shop-mgr-orders',
        label: 'View Orders',
        type: 'action',
        description: 'Manage incoming and active orders',
        swimlaneId: 'shop-manager',
        position: { x: 700, y: 0 },
        connections: [{ to: 'shop-mgr-order-list', type: 'data' }],
      },
      {
        id: 'shop-mgr-order-list',
        label: 'Order Queue',
        type: 'data',
        description: 'Pending, processing, shipped orders',
        swimlaneId: 'shop-manager',
        position: { x: 950, y: 0 },
        connections: [{ to: 'shop-mgr-select-order', type: 'normal' }],
      },
      {
        id: 'shop-mgr-select-order',
        label: 'Select Order',
        type: 'action',
        description: 'View order details',
        swimlaneId: 'shop-manager',
        position: { x: 1200, y: 0 },
        connections: [{ to: 'shop-mgr-update-status', type: 'normal' }],
      },
      {
        id: 'shop-mgr-update-status',
        label: 'Update Order Status',
        type: 'decision',
        description: 'Change order status',
        swimlaneId: 'shop-manager',
        position: { x: 1450, y: -10 },
        connections: [
          { to: 'shop-mgr-confirm-order', label: 'Confirm', type: 'normal' },
          { to: 'shop-mgr-process-order', label: 'Process', type: 'normal' },
          { to: 'shop-mgr-ship-order', label: 'Ship', type: 'normal' },
          { to: 'shop-mgr-complete-order', label: 'Complete', type: 'normal' },
        ],
      },
      {
        id: 'shop-mgr-confirm-order',
        label: 'Confirm Order',
        type: 'process',
        description: 'Order confirmed, ready to process',
        swimlaneId: 'shop-manager',
        position: { x: 1700, y: -40 },
      },
      {
        id: 'shop-mgr-process-order',
        label: 'Mark as Processing',
        type: 'process',
        description: 'Order being prepared',
        swimlaneId: 'shop-manager',
        position: { x: 1700, y: 0 },
      },
      {
        id: 'shop-mgr-ship-order',
        label: 'Mark as Shipped',
        type: 'process',
        description: 'Order shipped to customer',
        swimlaneId: 'shop-manager',
        position: { x: 1700, y: 40 },
        connections: [{ to: 'shop-mgr-tracking', type: 'normal' }],
      },
      {
        id: 'shop-mgr-tracking',
        label: 'Add Tracking Number',
        type: 'action',
        description: 'Provide shipping tracking info',
        swimlaneId: 'shop-manager',
        position: { x: 1950, y: 40 },
      },
      {
        id: 'shop-mgr-complete-order',
        label: 'Mark as Completed',
        type: 'process',
        description: 'Order delivered successfully',
        swimlaneId: 'shop-manager',
        position: { x: 1700, y: 80 },
      },
      // Manage Inventory
      {
        id: 'shop-mgr-inventory',
        label: 'Manage Inventory',
        type: 'action',
        description: 'Track stock levels',
        swimlaneId: 'shop-manager',
        position: { x: 700, y: 100 },
        connections: [{ to: 'shop-mgr-inventory-list', type: 'data' }],
      },
      {
        id: 'shop-mgr-inventory-list',
        label: 'Inventory List',
        type: 'data',
        description: 'All products with stock levels',
        swimlaneId: 'shop-manager',
        position: { x: 950, y: 100 },
        connections: [{ to: 'shop-mgr-update-stock', type: 'normal' }],
      },
      {
        id: 'shop-mgr-update-stock',
        label: 'Update Stock Levels',
        type: 'action',
        description: 'Adjust inventory quantities',
        swimlaneId: 'shop-manager',
        position: { x: 1200, y: 100 },
        connections: [{ to: 'shop-mgr-low-stock-alert', type: 'normal' }],
      },
      {
        id: 'shop-mgr-low-stock-alert',
        label: 'Low Stock Alert',
        type: 'notification',
        description: 'Notification when items are low',
        swimlaneId: 'shop-manager',
        position: { x: 1450, y: 100 },
        connections: [{ to: 'shop-mgr-notify-admin', type: 'normal' }],
      },
      {
        id: 'shop-mgr-notify-admin',
        label: 'Notify Shop Admin',
        type: 'process',
        description: 'Alert admin to reorder stock',
        swimlaneId: 'shop-manager',
        position: { x: 1700, y: 100 },
      },
      // Customer Service
      {
        id: 'shop-mgr-customers',
        label: 'Customer Inquiries',
        type: 'action',
        description: 'Respond to customer questions',
        swimlaneId: 'shop-manager',
        position: { x: 700, y: 180 },
        connections: [{ to: 'shop-mgr-inquiry-list', type: 'data' }],
      },
      {
        id: 'shop-mgr-inquiry-list',
        label: 'Inquiry Queue',
        type: 'data',
        description: 'Customer messages and questions',
        swimlaneId: 'shop-manager',
        position: { x: 950, y: 180 },
        connections: [{ to: 'shop-mgr-respond', type: 'normal' }],
      },
      {
        id: 'shop-mgr-respond',
        label: 'Respond to Customer',
        type: 'action',
        description: 'Answer questions, resolve issues',
        swimlaneId: 'shop-manager',
        position: { x: 1200, y: 180 },
        connections: [{ to: 'shop-mgr-escalate-check', type: 'decision' }],
      },
      {
        id: 'shop-mgr-escalate-check',
        label: 'Complex Issue?',
        type: 'decision',
        swimlaneId: 'shop-manager',
        position: { x: 1450, y: 170 },
        connections: [
          { to: 'shop-mgr-resolve', label: 'No - Resolve', type: 'normal' },
          { to: 'shop-mgr-escalate', label: 'Yes - Escalate', type: 'conditional' },
        ],
      },
      {
        id: 'shop-mgr-resolve',
        label: 'Issue Resolved',
        type: 'process',
        description: 'Customer inquiry handled',
        swimlaneId: 'shop-manager',
        position: { x: 1700, y: 150 },
      },
      {
        id: 'shop-mgr-escalate',
        label: 'Escalate to Shop Admin',
        type: 'process',
        description: 'Complex issues forwarded to admin',
        swimlaneId: 'shop-manager',
        position: { x: 1700, y: 200 },
      },
      // Messages & Communication Branch
      {
        id: 'shop-mgr-messages',
        label: 'Internal Communication',
        type: 'action',
        description: 'Message Shop Admin',
        swimlaneId: 'shop-manager',
        position: { x: 700, y: 240 },
        connections: [{ to: 'shop-mgr-msg-admin', type: 'normal' }],
      },
      {
        id: 'shop-mgr-msg-admin',
        label: 'Chat with Shop Admin',
        type: 'action',
        description: 'Report stock issues, escalate problems, ask questions',
        swimlaneId: 'shop-manager',
        position: { x: 950, y: 240 },
      },
      // Permissions Notice
      {
        id: 'shop-mgr-restrictions',
        label: 'Manager Restrictions',
        type: 'data',
        description: 'üö´ Cannot change pricing\nüö´ Cannot add/remove products\nüö´ Cannot manage billing\nüö´ Cannot run promotions\n‚úÖ Can process orders\n‚úÖ Can update inventory\n‚úÖ Can handle customer service',
        swimlaneId: 'shop-manager',
        position: { x: 700, y: 270 },
      },
    ],
  },
  
  // ========== MULTI-SWIMLANE WORKFLOWS ==========
  
  // Job Deployment Flow (Multi-Swimlane)
  'job-deployment': {
    title: 'Job Deployment Flow',
    description: 'Complete job lifecycle from agency creation to guardian notification (Multi-Entity)',
    emoji: 'üîÑ',
    swimlanes: ['agency-admin', 'caregiver', 'guardian', 'admin'],
    steps: [
      // AGENCY SWIMLANE
      {
        id: 'job-start',
        label: 'START',
        type: 'start',
        swimlaneId: 'agency-admin',
        position: { x: 50, y: 80 },
        connections: [{ to: 'job-agency-create', type: 'normal' }],
      },
      {
        id: 'job-agency-create',
        label: 'Create Job Offer',
        type: 'action',
        description: 'Agency creates job from purchased package',
        swimlaneId: 'agency-admin',
        position: { x: 250, y: 80 },
        connections: [{ to: 'job-agency-details', type: 'normal' }],
      },
      {
        id: 'job-agency-details',
        label: 'Job Details',
        type: 'process',
        description: 'Patient needs, schedule, duration, location',
        swimlaneId: 'agency-admin',
        position: { x: 500, y: 80 },
        connections: [{ to: 'job-agency-select-cg', type: 'normal' }],
      },
      {
        id: 'job-agency-select-cg',
        label: 'Select Caregiver from Roster',
        type: 'action',
        description: 'Choose from verified caregivers',
        swimlaneId: 'agency-admin',
        position: { x: 750, y: 80 },
        connections: [{ to: 'job-agency-send-offer', type: 'normal' }],
      },
      {
        id: 'job-agency-send-offer',
        label: 'Send Job Offer',
        type: 'process',
        description: 'Offer sent to caregiver',
        swimlaneId: 'agency-admin',
        position: { x: 1000, y: 80 },
        connections: [{ to: 'job-cg-receives', type: 'data' }],
      },
      // CAREGIVER SWIMLANE
      {
        id: 'job-cg-receives',
        label: 'Receives Job Offer',
        type: 'notification',
        description: 'New job offer notification',
        swimlaneId: 'caregiver',
        position: { x: 1000, y: 200 },
        connections: [{ to: 'job-cg-reviews', type: 'normal' }],
      },
      {
        id: 'job-cg-reviews',
        label: 'Reviews Job Details',
        type: 'action',
        description: 'Check schedule, location, patient needs',
        swimlaneId: 'caregiver',
        position: { x: 1250, y: 200 },
        connections: [{ to: 'job-cg-decision', type: 'normal' }],
      },
      {
        id: 'job-cg-decision',
        label: 'Accept Job?',
        type: 'decision',
        swimlaneId: 'caregiver',
        position: { x: 1500, y: 190 },
        connections: [
          { to: 'job-cg-accept', label: 'Accept', type: 'normal' },
          { to: 'job-cg-decline', label: 'Decline', type: 'error' },
        ],
      },
      {
        id: 'job-cg-accept',
        label: 'Accept Job',
        type: 'process',
        description: 'Caregiver confirms assignment',
        swimlaneId: 'caregiver',
        position: { x: 1750, y: 170 },
        connections: [{ to: 'job-guard-notified', type: 'data' }],
      },
      {
        id: 'job-cg-decline',
        label: 'Decline Job',
        type: 'process',
        description: 'Offer declined',
        swimlaneId: 'caregiver',
        position: { x: 1750, y: 220 },
        connections: [{ to: 'job-agency-find-another', type: 'error' }],
      },
      {
        id: 'job-agency-find-another',
        label: 'Find Another Caregiver',
        type: 'process',
        description: 'Return to roster selection',
        swimlaneId: 'agency-admin',
        position: { x: 1750, y: 120 },
        connections: [{ to: 'job-agency-select-cg', type: 'error' }],
      },
      // GUARDIAN SWIMLANE
      {
        id: 'job-guard-notified',
        label: 'Guardian Notified',
        type: 'notification',
        description: 'Caregiver assigned to your package',
        swimlaneId: 'guardian',
        position: { x: 1750, y: 320 },
        connections: [{ to: 'job-guard-profile', type: 'normal' }],
      },
      {
        id: 'job-guard-profile',
        label: 'View Caregiver Profile',
        type: 'action',
        description: 'See assigned caregiver details',
        swimlaneId: 'guardian',
        position: { x: 2000, y: 320 },
        connections: [{ to: 'job-guard-approve', type: 'decision' }],
      },
      {
        id: 'job-guard-approve',
        label: 'Approve Assignment?',
        type: 'decision',
        swimlaneId: 'guardian',
        position: { x: 2250, y: 310 },
        connections: [
          { to: 'job-active', label: 'Approve', type: 'normal' },
          { to: 'job-guard-reject', label: 'Request Change', type: 'conditional' },
        ],
      },
      {
        id: 'job-guard-reject',
        label: 'Request Different Caregiver',
        type: 'process',
        description: 'Guardian requests reassignment',
        swimlaneId: 'guardian',
        position: { x: 2500, y: 260 },
        connections: [{ to: 'job-agency-find-another', type: 'error' }],
      },
      {
        id: 'job-active',
        label: '‚úÖ Job Active',
        type: 'process',
        description: 'Caregiver starts providing care',
        swimlaneId: 'caregiver',
        position: { x: 2500, y: 200 },
        connections: [{ to: 'job-admin-monitor', type: 'data' }],
      },
      // ADMIN MONITORING SWIMLANE
      {
        id: 'job-admin-monitor',
        label: 'Platform Monitoring',
        type: 'action',
        description: 'Admin tracks active jobs',
        swimlaneId: 'admin',
        position: { x: 2500, y: 450 },
        connections: [{ to: 'job-admin-metrics', type: 'data' }],
      },
      {
        id: 'job-admin-metrics',
        label: 'Job Metrics',
        type: 'data',
        description: 'Deployment time, acceptance rate, guardian satisfaction',
        swimlaneId: 'admin',
        position: { x: 2750, y: 450 },
      },
    ],
  },
  
  // Dispute Resolution Flow (Multi-Swimlane)
  'dispute-resolution': {
    title: 'Dispute Resolution Flow',
    description: 'Complete dispute handling from filing to admin decision (Multi-Entity)',
    emoji: '‚öñÔ∏è',
    swimlanes: ['guardian', 'caregiver', 'moderator', 'admin'],
    steps: [
      // FILING DISPUTE
      {
        id: 'dispute-start',
        label: 'START',
        type: 'start',
        swimlaneId: 'guardian',
        position: { x: 50, y: 80 },
        connections: [{ to: 'dispute-filed-by', type: 'decision' }],
      },
      {
        id: 'dispute-filed-by',
        label: 'Who Files Dispute?',
        type: 'decision',
        swimlaneId: 'guardian',
        position: { x: 250, y: 70 },
        connections: [
          { to: 'dispute-guard-file', label: 'Guardian', type: 'normal' },
          { to: 'dispute-cg-file', label: 'Caregiver', type: 'conditional' },
        ],
      },
      {
        id: 'dispute-guard-file',
        label: 'Guardian Files Dispute',
        type: 'action',
        description: 'Issue with care quality or service',
        swimlaneId: 'guardian',
        position: { x: 500, y: 40 },
        connections: [{ to: 'dispute-guard-evidence', type: 'normal' }],
      },
      {
        id: 'dispute-guard-evidence',
        label: 'Upload Evidence',
        type: 'action',
        description: 'Photos, logs, messages',
        swimlaneId: 'guardian',
        position: { x: 750, y: 40 },
        connections: [{ to: 'dispute-submit', type: 'normal' }],
      },
      {
        id: 'dispute-cg-file',
        label: 'Caregiver Files Dispute',
        type: 'action',
        description: 'Issue with payment or working conditions',
        swimlaneId: 'caregiver',
        position: { x: 500, y: 200 },
        connections: [{ to: 'dispute-cg-evidence', type: 'normal' }],
      },
      {
        id: 'dispute-cg-evidence',
        label: 'Upload Evidence',
        type: 'action',
        description: 'Work logs, payment records',
        swimlaneId: 'caregiver',
        position: { x: 750, y: 200 },
        connections: [{ to: 'dispute-submit', type: 'normal' }],
      },
      {
        id: 'dispute-submit',
        label: 'Dispute Submitted',
        type: 'process',
        description: 'Sent to moderator queue',
        swimlaneId: 'moderator',
        position: { x: 1000, y: 320 },
        connections: [{ to: 'dispute-mod-receives', type: 'normal' }],
      },
      // MODERATOR INVESTIGATION
      {
        id: 'dispute-mod-receives',
        label: 'Moderator Assigned',
        type: 'notification',
        description: 'New dispute in queue',
        swimlaneId: 'moderator',
        position: { x: 1250, y: 320 },
        connections: [{ to: 'dispute-mod-review', type: 'normal' }],
      },
      {
        id: 'dispute-mod-review',
        label: 'Review Evidence',
        type: 'action',
        description: 'Examine care logs, messages, photos',
        swimlaneId: 'moderator',
        position: { x: 1500, y: 320 },
        connections: [{ to: 'dispute-mod-contact', type: 'normal' }],
      },
      {
        id: 'dispute-mod-contact',
        label: 'Contact Both Parties',
        type: 'action',
        description: 'Get both sides of the story',
        swimlaneId: 'moderator',
        position: { x: 1750, y: 320 },
        connections: [{ to: 'dispute-mod-assess', type: 'normal' }],
      },
      {
        id: 'dispute-mod-assess',
        label: 'Assess Complexity',
        type: 'decision',
        swimlaneId: 'moderator',
        position: { x: 2000, y: 310 },
        connections: [
          { to: 'dispute-mod-resolve', label: 'Simple - Resolve', type: 'normal' },
          { to: 'dispute-mod-recommend', label: 'Complex - Escalate', type: 'conditional' },
        ],
      },
      {
        id: 'dispute-mod-resolve',
        label: 'Moderator Resolution',
        type: 'process',
        description: 'Resolve simple dispute directly',
        swimlaneId: 'moderator',
        position: { x: 2250, y: 270 },
        connections: [{ to: 'dispute-notify-parties', type: 'normal' }],
      },
      {
        id: 'dispute-mod-recommend',
        label: 'Submit Recommendation to Admin',
        type: 'process',
        description: 'Complex case requires admin decision',
        swimlaneId: 'moderator',
        position: { x: 2250, y: 350 },
        connections: [{ to: 'dispute-admin-receives', type: 'data' }],
      },
      // ADMIN FINAL DECISION
      {
        id: 'dispute-admin-receives',
        label: 'Admin Reviews Case',
        type: 'notification',
        description: 'Escalated dispute from moderator',
        swimlaneId: 'admin',
        position: { x: 2250, y: 480 },
        connections: [{ to: 'dispute-admin-review', type: 'normal' }],
      },
      {
        id: 'dispute-admin-review',
        label: 'Review Moderator Analysis',
        type: 'action',
        description: 'Check evidence and recommendation',
        swimlaneId: 'admin',
        position: { x: 2500, y: 480 },
        connections: [{ to: 'dispute-admin-decision', type: 'normal' }],
      },
      {
        id: 'dispute-admin-decision',
        label: 'Final Decision',
        type: 'decision',
        description: '3-way decision point',
        swimlaneId: 'admin',
        position: { x: 2750, y: 470 },
        connections: [
          { to: 'dispute-admin-approve', label: 'Approve Mod Rec', type: 'normal' },
          { to: 'dispute-admin-resubmit', label: 'Send Back', type: 'conditional' },
          { to: 'dispute-admin-override', label: 'Override Decision', type: 'conditional' },
        ],
      },
      {
        id: 'dispute-admin-approve',
        label: 'Approve Resolution',
        type: 'process',
        description: 'Accept moderator recommendation',
        swimlaneId: 'admin',
        position: { x: 3000, y: 420 },
        connections: [{ to: 'dispute-notify-parties', type: 'normal' }],
      },
      {
        id: 'dispute-admin-resubmit',
        label: 'Send Back to Moderator',
        type: 'process',
        description: 'Request more investigation',
        swimlaneId: 'admin',
        position: { x: 3000, y: 480 },
        connections: [{ to: 'dispute-mod-review', type: 'error' }],
      },
      {
        id: 'dispute-admin-override',
        label: 'Override with Final Decision',
        type: 'process',
        description: 'Admin makes different decision',
        swimlaneId: 'admin',
        position: { x: 3000, y: 540 },
        connections: [{ to: 'dispute-notify-parties', type: 'normal' }],
      },
      {
        id: 'dispute-notify-parties',
        label: 'Notify All Parties',
        type: 'notification',
        description: 'Guardian and caregiver informed of resolution',
        swimlaneId: 'moderator',
        position: { x: 3250, y: 320 },
        connections: [
          { to: 'dispute-guard-notified', type: 'data' },
          { to: 'dispute-cg-notified', type: 'data' },
        ],
      },
      {
        id: 'dispute-guard-notified',
        label: 'Guardian Receives Decision',
        type: 'notification',
        swimlaneId: 'guardian',
        position: { x: 3500, y: 40 },
      },
      {
        id: 'dispute-cg-notified',
        label: 'Caregiver Receives Decision',
        type: 'notification',
        swimlaneId: 'caregiver',
        position: { x: 3500, y: 200 },
      },
    ],
  },
  
  // Package Negotiation Flow (Multi-Swimlane)
  'package-negotiation': {
    title: 'Package Negotiation Flow',
    description: 'Guardian and Agency negotiate package terms (Multi-Entity)',
    emoji: 'üíº',
    swimlanes: ['guardian', 'agency-admin'],
    steps: [
      {
        id: 'neg-start',
        label: 'START',
        type: 'start',
        swimlaneId: 'guardian',
        position: { x: 50, y: 80 },
        connections: [{ to: 'neg-guard-browse', type: 'normal' }],
      },
      {
        id: 'neg-guard-browse',
        label: 'Browse Agency Packages',
        type: 'action',
        description: 'Guardian views available packages',
        swimlaneId: 'guardian',
        position: { x: 250, y: 80 },
        connections: [{ to: 'neg-guard-select', type: 'normal' }],
      },
      {
        id: 'neg-guard-select',
        label: 'Select Package',
        type: 'action',
        description: 'Choose a package to review',
        swimlaneId: 'guardian',
        position: { x: 500, y: 80 },
        connections: [{ to: 'neg-guard-review', type: 'normal' }],
      },
      {
        id: 'neg-guard-review',
        label: 'Review Terms',
        type: 'process',
        description: 'Price, duration, services included',
        swimlaneId: 'guardian',
        position: { x: 750, y: 80 },
        connections: [{ to: 'neg-guard-decision', type: 'normal' }],
      },
      {
        id: 'neg-guard-decision',
        label: 'Accept or Negotiate?',
        type: 'decision',
        swimlaneId: 'guardian',
        position: { x: 1000, y: 70 },
        connections: [
          { to: 'neg-guard-accept-first', label: 'Accept', type: 'normal' },
          { to: 'neg-guard-counter', label: 'Send Counter-Offer', type: 'conditional' },
        ],
      },
      {
        id: 'neg-guard-accept-first',
        label: 'Accept Original Terms',
        type: 'process',
        description: 'Proceed to checkout',
        swimlaneId: 'guardian',
        position: { x: 1250, y: 40 },
        connections: [{ to: 'neg-checkout', type: 'normal' }],
      },
      {
        id: 'neg-guard-counter',
        label: 'Send Counter-Offer',
        type: 'action',
        description: 'Propose different price or terms',
        swimlaneId: 'guardian',
        position: { x: 1250, y: 110 },
        connections: [{ to: 'neg-agency-receives', type: 'data' }],
      },
      // AGENCY RESPONSE
      {
        id: 'neg-agency-receives',
        label: 'Agency Receives Counter-Offer',
        type: 'notification',
        description: 'Guardian proposed different terms',
        swimlaneId: 'agency-admin',
        position: { x: 1250, y: 250 },
        connections: [{ to: 'neg-agency-review', type: 'normal' }],
      },
      {
        id: 'neg-agency-review',
        label: 'Review Counter-Offer',
        type: 'action',
        description: 'Assess proposed changes',
        swimlaneId: 'agency-admin',
        position: { x: 1500, y: 250 },
        connections: [{ to: 'neg-agency-decision', type: 'normal' }],
      },
      {
        id: 'neg-agency-decision',
        label: 'Agency Decision',
        type: 'decision',
        swimlaneId: 'agency-admin',
        position: { x: 1750, y: 240 },
        connections: [
          { to: 'neg-agency-accept', label: 'Accept Counter', type: 'normal' },
          { to: 'neg-agency-counter', label: 'Counter Again', type: 'conditional' },
          { to: 'neg-agency-reject', label: 'Reject', type: 'error' },
        ],
      },
      {
        id: 'neg-agency-accept',
        label: 'Accept Counter-Offer',
        type: 'process',
        description: 'Terms agreed',
        swimlaneId: 'agency-admin',
        position: { x: 2000, y: 200 },
        connections: [{ to: 'neg-terms-agreed', type: 'normal' }],
      },
      {
        id: 'neg-agency-counter',
        label: 'Send New Counter-Offer',
        type: 'action',
        description: 'Propose alternative terms',
        swimlaneId: 'agency-admin',
        position: { x: 2000, y: 250 },
        connections: [{ to: 'neg-guard-receives-counter', type: 'data' }],
      },
      {
        id: 'neg-agency-reject',
        label: 'Reject Counter-Offer',
        type: 'process',
        description: 'Original terms only',
        swimlaneId: 'agency-admin',
        position: { x: 2000, y: 300 },
        connections: [{ to: 'neg-guard-final-choice', type: 'data' }],
      },
      // NEGOTIATION ROUND 2
      {
        id: 'neg-guard-receives-counter',
        label: 'Guardian Receives New Offer',
        type: 'notification',
        description: 'Agency counter-proposal',
        swimlaneId: 'guardian',
        position: { x: 2250, y: 110 },
        connections: [{ to: 'neg-guard-review-2', type: 'normal' }],
      },
      {
        id: 'neg-guard-review-2',
        label: 'Review New Terms',
        type: 'action',
        swimlaneId: 'guardian',
        position: { x: 2500, y: 110 },
        connections: [{ to: 'neg-guard-decision-2', type: 'normal' }],
      },
      {
        id: 'neg-guard-decision-2',
        label: 'Accept New Terms?',
        type: 'decision',
        swimlaneId: 'guardian',
        position: { x: 2750, y: 100 },
        connections: [
          { to: 'neg-terms-agreed', label: 'Accept', type: 'normal' },
          { to: 'neg-guard-counter', label: 'Counter Again', type: 'conditional' },
        ],
      },
      {
        id: 'neg-guard-final-choice',
        label: 'Final Choice',
        type: 'decision',
        description: 'After agency rejection',
        swimlaneId: 'guardian',
        position: { x: 2250, y: 150 },
        connections: [
          { to: 'neg-guard-accept-original', label: 'Accept Original', type: 'normal' },
          { to: 'neg-end', label: 'Walk Away', type: 'error' },
        ],
      },
      {
        id: 'neg-guard-accept-original',
        label: 'Accept Original Terms',
        type: 'process',
        swimlaneId: 'guardian',
        position: { x: 2500, y: 150 },
        connections: [{ to: 'neg-checkout', type: 'normal' }],
      },
      {
        id: 'neg-terms-agreed',
        label: '‚úÖ Terms Agreed',
        type: 'process',
        description: 'Negotiation successful',
        swimlaneId: 'guardian',
        position: { x: 3000, y: 80 },
        connections: [{ to: 'neg-checkout', type: 'normal' }],
      },
      {
        id: 'neg-checkout',
        label: 'Proceed to Checkout',
        type: 'action',
        description: 'Purchase package with agreed terms',
        swimlaneId: 'guardian',
        position: { x: 3250, y: 80 },
        connections: [{ to: 'neg-payment', type: 'normal' }],
      },
      {
        id: 'neg-payment',
        label: 'Payment Gateway',
        type: 'external',
        description: 'Complete purchase',
        swimlaneId: 'guardian',
        position: { x: 3500, y: 80 },
      },
      {
        id: 'neg-end',
        label: 'END - No Agreement',
        type: 'process',
        description: 'Guardian looks for different agency',
        swimlaneId: 'guardian',
        position: { x: 2500, y: 190 },
      },
    ],
  },
  
  // Complete Caregiver Verification Pipeline (Multi-Swimlane)
  'verification-pipeline': {
    title: 'Caregiver Verification Pipeline (6 Steps)',
    description: 'Complete verification from certificates to final admin approval (Multi-Entity)',
    emoji: '‚úÖ',
    swimlanes: ['caregiver', 'moderator', 'admin'],
    steps: [
      // CAREGIVER SUBMISSIONS
      {
        id: 'verify-start',
        label: 'START',
        type: 'start',
        swimlaneId: 'caregiver',
        position: { x: 50, y: 80 },
        connections: [{ to: 'verify-cg-register', type: 'normal' }],
      },
      {
        id: 'verify-cg-register',
        label: 'Register & Submit Profile',
        type: 'action',
        description: 'Basic info, photo, NID',
        swimlaneId: 'caregiver',
        position: { x: 250, y: 80 },
        connections: [{ to: 'verify-step1', type: 'normal' }],
      },
      // STEP 1: CERTIFICATES
      {
        id: 'verify-step1',
        label: 'Step 1: Upload Certificates',
        type: 'action',
        description: 'Medical certifications, training certificates',
        swimlaneId: 'caregiver',
        position: { x: 500, y: 80 },
        connections: [{ to: 'verify-mod1-receives', type: 'data' }],
      },
      {
        id: 'verify-mod1-receives',
        label: 'Moderator Reviews Certificates',
        type: 'action',
        description: 'Verify authenticity and validity',
        swimlaneId: 'moderator',
        position: { x: 500, y: 250 },
        connections: [{ to: 'verify-mod1-decision', type: 'normal' }],
      },
      {
        id: 'verify-mod1-decision',
        label: 'Certificates Valid?',
        type: 'decision',
        swimlaneId: 'moderator',
        position: { x: 750, y: 240 },
        connections: [
          { to: 'verify-mod1-approve', label: 'Approve', type: 'normal' },
          { to: 'verify-mod1-reject', label: 'Request Resubmit', type: 'error' },
        ],
      },
      {
        id: 'verify-mod1-approve',
        label: 'Recommend to Admin',
        type: 'process',
        swimlaneId: 'moderator',
        position: { x: 1000, y: 220 },
        connections: [{ to: 'verify-admin1', type: 'data' }],
      },
      {
        id: 'verify-mod1-reject',
        label: 'Send Back',
        type: 'process',
        swimlaneId: 'moderator',
        position: { x: 750, y: 300 },
        connections: [{ to: 'verify-step1', type: 'error' }],
      },
      {
        id: 'verify-admin1',
        label: 'Admin: Final Cert Approval',
        type: 'decision',
        description: 'Approve/Resubmit/Reject',
        swimlaneId: 'admin',
        position: { x: 1000, y: 400 },
        connections: [
          { to: 'verify-step2', label: 'Approve ‚Üí Step 2', type: 'normal' },
          { to: 'verify-mod1-receives', label: 'Resubmit', type: 'conditional' },
        ],
      },
      // STEP 2: POLICE CLEARANCE
      {
        id: 'verify-step2',
        label: 'Step 2: Police Clearance',
        type: 'action',
        description: 'Upload police clearance certificate',
        swimlaneId: 'caregiver',
        position: { x: 1250, y: 80 },
        connections: [{ to: 'verify-mod2-receives', type: 'data' }],
      },
      {
        id: 'verify-mod2-receives',
        label: 'Moderator Verifies Clearance',
        type: 'action',
        swimlaneId: 'moderator',
        position: { x: 1250, y: 250 },
        connections: [{ to: 'verify-mod2-recommend', type: 'normal' }],
      },
      {
        id: 'verify-mod2-recommend',
        label: 'Recommend to Admin',
        type: 'process',
        swimlaneId: 'moderator',
        position: { x: 1500, y: 250 },
        connections: [{ to: 'verify-admin2', type: 'data' }],
      },
      {
        id: 'verify-admin2',
        label: 'Admin: Police Clearance Approval',
        type: 'decision',
        swimlaneId: 'admin',
        position: { x: 1500, y: 400 },
        connections: [
          { to: 'verify-step3', label: 'Approve ‚Üí Step 3', type: 'normal' },
          { to: 'verify-mod2-receives', label: 'Resubmit', type: 'conditional' },
        ],
      },
      // STEP 3: INTERVIEW
      {
        id: 'verify-step3',
        label: 'Step 3: Interview',
        type: 'action',
        description: 'Schedule interview with moderator',
        swimlaneId: 'caregiver',
        position: { x: 1750, y: 80 },
        connections: [{ to: 'verify-mod3-interview', type: 'normal' }],
      },
      {
        id: 'verify-mod3-interview',
        label: 'Moderator Conducts Interview',
        type: 'action',
        description: 'Assess communication, professionalism, experience',
        swimlaneId: 'moderator',
        position: { x: 1750, y: 250 },
        connections: [{ to: 'verify-mod3-marks', type: 'normal' }],
      },
      {
        id: 'verify-mod3-marks',
        label: 'Submit Interview Marks',
        type: 'process',
        swimlaneId: 'moderator',
        position: { x: 2000, y: 250 },
        connections: [{ to: 'verify-admin3', type: 'data' }],
      },
      {
        id: 'verify-admin3',
        label: 'Admin: Interview Approval',
        type: 'decision',
        swimlaneId: 'admin',
        position: { x: 2000, y: 400 },
        connections: [
          { to: 'verify-step4', label: 'Approve ‚Üí Step 4', type: 'normal' },
          { to: 'verify-mod3-interview', label: 'Re-interview', type: 'conditional' },
        ],
      },
      // STEP 4: PSYCHOLOGICAL ANALYSIS
      {
        id: 'verify-step4',
        label: 'Step 4: Psychological Test',
        type: 'action',
        description: 'Online psychological assessment',
        swimlaneId: 'caregiver',
        position: { x: 2250, y: 80 },
        connections: [{ to: 'verify-mod4-review', type: 'data' }],
      },
      {
        id: 'verify-mod4-review',
        label: 'Moderator Reviews Results',
        type: 'action',
        description: 'Analyze psychological fitness',
        swimlaneId: 'moderator',
        position: { x: 2250, y: 250 },
        connections: [{ to: 'verify-mod4-recommend', type: 'normal' }],
      },
      {
        id: 'verify-mod4-recommend',
        label: 'Submit Recommendation',
        type: 'process',
        swimlaneId: 'moderator',
        position: { x: 2500, y: 250 },
        connections: [{ to: 'verify-admin4', type: 'data' }],
      },
      {
        id: 'verify-admin4',
        label: 'Admin: Psych Approval',
        type: 'decision',
        swimlaneId: 'admin',
        position: { x: 2500, y: 400 },
        connections: [
          { to: 'verify-step5', label: 'Approve ‚Üí Step 5', type: 'normal' },
          { to: 'verify-mod4-review', label: 'Resubmit', type: 'conditional' },
        ],
      },
      // STEP 5: DOCUMENT VERIFICATION
      {
        id: 'verify-step5',
        label: 'Step 5: Document Verification',
        type: 'action',
        description: 'Final document cross-check',
        swimlaneId: 'caregiver',
        position: { x: 2750, y: 80 },
        connections: [{ to: 'verify-mod5-check', type: 'data' }],
      },
      {
        id: 'verify-mod5-check',
        label: 'Moderator: Full Doc Check',
        type: 'action',
        description: 'Verify all submitted documents',
        swimlaneId: 'moderator',
        position: { x: 2750, y: 250 },
        connections: [{ to: 'verify-mod5-recommend', type: 'normal' }],
      },
      {
        id: 'verify-mod5-recommend',
        label: 'Submit Final Recommendation',
        type: 'process',
        swimlaneId: 'moderator',
        position: { x: 3000, y: 250 },
        connections: [{ to: 'verify-admin5', type: 'data' }],
      },
      {
        id: 'verify-admin5',
        label: 'Admin: Document Approval',
        type: 'decision',
        swimlaneId: 'admin',
        position: { x: 3000, y: 400 },
        connections: [
          { to: 'verify-step6', label: 'Approve ‚Üí Step 6', type: 'normal' },
          { to: 'verify-mod5-check', label: 'Resubmit', type: 'conditional' },
        ],
      },
      // STEP 6: FINAL ADMIN APPROVAL
      {
        id: 'verify-step6',
        label: 'Step 6: Final Admin Review',
        type: 'action',
        description: 'Admin reviews complete profile',
        swimlaneId: 'admin',
        position: { x: 3250, y: 400 },
        connections: [{ to: 'verify-admin-final', type: 'normal' }],
      },
      {
        id: 'verify-admin-final',
        label: 'Admin: Final Decision',
        type: 'decision',
        description: 'Supreme authority approval',
        swimlaneId: 'admin',
        position: { x: 3500, y: 390 },
        connections: [
          { to: 'verify-log-approved', label: 'APPROVE', type: 'normal' },
          { to: 'verify-log-rejected', label: 'REJECT', type: 'error' },
        ],
      },
      {
        id: 'verify-log-approved',
        label: 'üìã approval',
        type: 'log',
        description: 'LOG: Caregiver verification approved',
        swimlaneId: 'admin',
        position: { x: 3700, y: 350 },
        connections: [{ to: 'verify-approved', type: 'logging' }],
      },
      {
        id: 'verify-log-rejected',
        label: 'üìã rejection',
        type: 'log',
        description: 'LOG: Caregiver verification rejected',
        swimlaneId: 'admin',
        position: { x: 3700, y: 450 },
        connections: [{ to: 'verify-rejected', type: 'logging' }],
      },
      {
        id: 'verify-approved',
        label: '‚úÖ VERIFICATION COMPLETE',
        type: 'process',
        description: 'Caregiver is now verified and active',
        swimlaneId: 'caregiver',
        position: { x: 3900, y: 80 },
      },
      {
        id: 'verify-rejected',
        label: '‚ùå Verification Failed',
        type: 'error',
        description: 'Caregiver cannot use platform',
        swimlaneId: 'caregiver',
        position: { x: 3900, y: 140 },
      },
    ],
  },
};